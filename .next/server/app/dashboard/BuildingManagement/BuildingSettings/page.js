(()=>{var e={};e.id=755,e.ids=[755],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},3601:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>g,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var a=r(482),s=r(9108),l=r(2563),n=r.n(l),i=r(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["dashboard",{children:["BuildingManagement",{children:["BuildingSettings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7960)),"C:\\Users\\LeeBoHyun\\Desktop\\dormease-web\\src\\app\\dashboard\\BuildingManagement\\BuildingSettings\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3227)),"C:\\Users\\LeeBoHyun\\Desktop\\dormease-web\\src\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,627)),"C:\\Users\\LeeBoHyun\\Desktop\\dormease-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\LeeBoHyun\\Desktop\\dormease-web\\src\\app\\dashboard\\BuildingManagement\\BuildingSettings\\page.tsx"],u="/dashboard/BuildingManagement/BuildingSettings/page",g={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/BuildingManagement/BuildingSettings/page",pathname:"/dashboard/BuildingManagement/BuildingSettings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4701:(e,t,r)=>{Promise.resolve().then(r.bind(r,8616))},8616:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var a,s=r(5344);let l="eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbjAxOkFETUlOIiwiaXNzIjoiRG9ybWVhc2VWYWx1bmlRIiwiaWF0IjoxNzE2MzUxMzA0LCJleHAiOjE3MTYzNTMxMDR9.aYskJ5J-RihLgDIXWzWBfi8ugd8EXvQgGJxTJqzAkxqX7Sj66FIdZvd1d_KLyOtKa3RSRsWhLAK--SnxBCGHMA",n=async()=>{console.error("Unauthorized access - 401")},i=async e=>{if(401===e.status)throw await n(),Error("Unauthorized");if(!e.ok)throw Error(`Server responded with status ${e.status}`);return e.json()},o=async e=>i(await fetch(`https://www.dormease-dev.kro.kr${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`bearer ${l}`}})),d=async(e,t)=>{let r=new FormData;return r.append("registerDormitoryReq",new Blob([JSON.stringify({name:e})],{type:"application/json"})),null!==t?r.append("image",t):r.append("image",new Blob([])),i(await fetch("https://www.dormease-dev.kro.kr/api/v1/web/dormitory/setting",{method:"POST",headers:{Authorization:`bearer ${l}`},body:r}))},c=async e=>i(await fetch(`https://www.dormease-dev.kro.kr/api/v1/web/dormitory/setting/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`bearer ${l}`}}));var u=r(1967),g=r(9804),h=r(3729);let b=({label:e,selected:t=!1,...r})=>s.jsx("button",{...r,className:`H3 w-381 h-61 rounded-b-8 text-white hover:hover-transition ${t?"bg-blue-blue50":"bg-blue-blue30 hover:bg-blue-blue40 active:bg-blue-blue50"}`,children:e});var A=r(6413);function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}let p=function(e){return A.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none"},e),a||(a=A.createElement("path",{stroke:"#D83636",strokeLinecap:"round",strokeWidth:2,d:"m10 22 12-12M22 22 10 10"})))};var x=r(9410);let v=({id:e,name:t,imageUrl:r,onBuildingOutClick:a,onBuildingSettingsDetail:l})=>(0,s.jsxs)("div",{className:"relative w-381 h-241 rounded-8 bg-gray-grayscale5 cursor-pointer",onClick:()=>l(e),children:[null!==r&&s.jsx(x.default,{className:"rounded-8 cursor-pointer",src:r,alt:t,layout:"fill",objectFit:"cover"}),s.jsx("div",{className:"absolute bottom-0",children:s.jsx(b,{label:t,selected:!1})}),s.jsx("button",{onClick:e=>{e.stopPropagation(),a()},children:s.jsx(p,{className:"absolute right-8 top-8"})})]});var w=r(9583),y=r(3111);let f={src:"/_next/static/media/AddBuildingLine.4a63cd90.png",height:2,width:416,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAACVBMVEXl5eXj4+Pm5ua+JgoRAAAAA3RSTlOgJTN0LShPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAADUlEQVR4nGNgZAADJgAAEwAEK5sv6QAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:1};var j=r(6653);let N=({onBuildingOutClick:e,onAddBuilding:t,input:r,setInput:a,selectImage:l,setSelectImage:n})=>{let i=(0,h.useRef)(null),[o,d]=(0,h.useState)(""),c=()=>{i.current?.click()};return(0,s.jsxs)("div",{className:"relative w-454 h-681 shadow-2xl rounded-8 flex flex-col items-center bg-white",children:[s.jsx("button",{onClick:e,children:s.jsx(p,{className:"absolute right-8 top-8"})}),(0,s.jsxs)("div",{className:"flex flex-col items-center mt-33",children:[s.jsx("h1",{className:"H1 text-gray-grayscale50 mb-26",children:"건물명"}),s.jsx("h1",{className:"text-red-red20 mr-auto caption-2",children:"* 필수"}),s.jsx("input",{required:!0,placeholder:"건물 이름",className:"H2 w-337 h-59 focus:outline-none rounded-20 border-[1.5px] border-gray-grayscale30 px-17 placeholder:text-gray-grayscale30 text-gray-grayscale50",type:"text",value:r,onChange:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10)),a(e.target.value)},maxLength:10})]}),s.jsx(x.default,{src:f,width:415.5,height:1,className:"mt-32 mb-19",alt:"line"}),(0,s.jsxs)("div",{className:"w-415 border-dotted flex flex-col items-center",children:[s.jsx("h1",{className:"H1",children:"건물사진"}),(0,s.jsxs)("div",{className:"mt-45 w-381 h-241 flex items-center justify-center bg-gray-grayscale5 rounded-8",children:[l?s.jsx(j.Z,{image:o,onClick:c}):s.jsx(w.Z,{label:"사진 추가",disabled:!1,variant:"blue",onClick:c}),s.jsx("input",{id:"fileInput",type:"file",accept:"image/*",style:{display:"none",visibility:"hidden"},ref:i,onChange:e=>{if(!e.target.files||0===e.target.files.length){console.log("파일이 선택되지 않았습니다.");return}let t=e.target.files[0];d(URL.createObjectURL(t)),n(t)}})]})]}),s.jsx(x.default,{src:f,width:415.5,height:1,className:"mt-32 mb-19",alt:"line"}),s.jsx("div",{className:"w-415 border-dotted flex flex-col items-center",children:s.jsx(y.Z,{label:"건물 추가",disabled:""===r,variant:"blue",onClick:t})})]})};var C=r(1688),E=r(7012),B=r(8428),k=r(6161);let S=()=>{let[e,t]=(0,h.useState)(),[r,a]=(0,h.useState)(!1),[l,n]=(0,h.useState)(!1),[i,b]=(0,h.useState)(!1),[A,m]=(0,h.useState)(!1),[p,x]=(0,h.useState)(""),[w,y]=(0,h.useState)(null),[f,j]=(0,h.useState)(null),S=(0,B.useRouter)(),{data:M,error:O}=(0,k.ZP)("/api/v1/web/dormitory/setting",o);(0,h.useEffect)(()=>{M?t(M.information):console.log(O)},[M,O]);let Z=async()=>{try{let e=await d(p,w);e?"동일한 이름의 기숙사가 존재합니다."===e.information.message?a(!0):((0,k.JG)("/api/v1/web/dormitory/setting"),b(!i),x(""),y(null)):alert("실패")}catch(e){console.error(e),alert("오류가 발생했습니다.")}},U=async e=>{if(null!==e)try{let t=await c(e);console.log(t),t?((0,k.JG)("/api/v1/web/dormitory/setting"),m(!1),j(null)):console.log("실패")}catch(e){console.error(e),console.log("오류가 발생했습니다.")}};return s.jsx(h.Suspense,{fallback:s.jsx("h1",{children:"로딩 중"}),children:(0,s.jsxs)("div",{className:"flex flex-col w-[1200px]",children:[s.jsx("h1",{className:"H0 text-gray-grayscale50 text-center mb-35",children:"건물 설정"}),(0,s.jsxs)("div",{className:"w-[1220px] grid grid-cols-3 gap-x-20 gap-y-30 min-h-381 max-h-800 overflow-y-auto scrollbar-table",children:[e&&e.map(e=>s.jsx(v,{id:e.id,name:e.name,imageUrl:e.imageUrl,onBuildingOutClick:()=>{j(e.id),!0===e.assignedResidents?n(!0):m(!0)},onBuildingSettingsDetail:()=>S.push(`/dashboard/BuildingManagement/BuildingSettings/${e.id}`)},e.id)),s.jsx(u.Z,{onClick:()=>b(!0)})]}),i&&s.jsx(g.Z,{isOpen:i,children:s.jsx(N,{onBuildingOutClick:()=>{x(""),y(null),b(!i)},onAddBuilding:Z,input:p,setInput:x,selectImage:w,setSelectImage:y})}),A&&s.jsx(g.Z,{isOpen:A,children:s.jsx(E.Z,{variant:"red",label:"건물을 삭제하면 관련 데이터도 함께 삭제됩니다.\\n건물을 삭제하시겠습니까?",onCancel:()=>{m(!1),j(null)},onConfirm:()=>U(f)})}),l&&s.jsx(g.Z,{isOpen:l,children:s.jsx(C.Z,{variant:"red",label:"해당 건물은 배정된 학생이 있습니다.",onConfirm:()=>{n(!1),j(null)}})}),r&&s.jsx(g.Z,{isOpen:r,children:s.jsx(C.Z,{variant:"blue",label:"이미 등록되어 있는 건물명입니다.\\n다른 이름을 사용해 주세요.",onConfirm:()=>{a(!1),j(null)}})})]})})}},1967:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a,s=r(5344);r(3729);var l=r(6413);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}let i=function(e){return l.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),a||(a=l.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:4.751,d:"M2.999 27h48M27 3v48"})))},o=({...e})=>(0,s.jsxs)("button",{...e,className:"group flex flex-col justify-center items-center w-381 h-241 rounded-8 bg-gray-grayscale5 hover:hover-transition hover:bg-gray-grayscale10 active:bg-gray-grayscale20",children:[s.jsx("div",{className:"flex justify-center items-center w-102 h-102 rounded-full bg-gray-grayscale10 group-hover:hover-transition group-hover:bg-gray-grayscale20 group-active:bg-gray-grayscale30",children:s.jsx(i,{className:"text-gray-grayscale30 group-hover:text-gray-grayscale40 group-hover:hover-transition group-active:text-gray-grayscale50"})}),s.jsx("h2",{className:"H4 mt-21 w-142 py-5 rounded-full text-white bg-blue-blue30 group-hover:bg-blue-blue40 group-hover:hover-transition group-active:bg-blue-blue50",children:"건물 추가하기"})]})},718:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(5344);let s=({label:e,onClick:t,hoverColor:r})=>{let{btnHoverColor:s}=(e=>{switch(e){case"blue":default:return{btnHoverColor:"hover:bg-blue-blue30"};case"gray":return{btnHoverColor:"hover:bg-gray-grayscale20"};case"red":return{btnHoverColor:"hover:bg-red-red20"};case"green":return{btnHoverColor:"hover:bg-green-green20"}}})(r);return a.jsx(a.Fragment,{children:a.jsx("button",{onClick:t,className:`mr-16 w-86 h-32 rounded-20 ${s} hover-transition`,children:"gray"===r?a.jsx("h1",{className:"H4 text-gray-grayscale40",children:e}):a.jsx("h1",{className:"H4 text-gray-grayscale40  hover:text-white",children:e})})})}},9583:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(5344);r(3729);let s=({label:e,variant:t,disabled:r,selected:s=!1,...l})=>a.jsx("button",{...l,disabled:r,className:`H4 w-115 h-37 rounded-full text-white hover:hover-transition ${(()=>{switch(t){case"blue":return`${s?"bg-blue-blue50":"bg-blue-blue30 disabled:bg-blue-blue20 hover:bg-blue-blue40 active:bg-blue-blue50"}`;case"green":return`${s?"bg-green-green40":"bg-green-green20 disabled:bg-green-green10 hover:bg-green-green30 active:bg-green-green40"}`;case"red":return`${s?"bg-red-red40":"bg-red-red20 disabled:bg-red-red10 hover:bg-red-red30 active:bg-red-red40"}`;default:return""}})()}`,children:e})},6653:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var a,s=r(5344);r(3729);var l=r(6413);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}let i=function(e){return l.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:49,height:44,fill:"none"},e),a||(a=l.createElement("path",{stroke:"#CCC",strokeLinecap:"round",strokeWidth:3.75,d:"M2 32.508 17.058 18.39a2.5 2.5 0 0 1 3.527.107L42.781 42M32 29.814l7.246-6.04a2.5 2.5 0 0 1 3.368.153L47 28.313M47 37V7a5 5 0 0 0-5-5H7a5 5 0 0 0-5 5v30a5 5 0 0 0 5 5h35a5 5 0 0 0 5-5ZM37 13.563a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})))};var o=r(9410);let d=({image:e,...t})=>(0,s.jsxs)("button",{...t,className:"group relative flex flex-col justify-center items-center w-381 h-247 rounded-8",children:[e&&s.jsx(o.default,{className:"group-hover:brightness-50 shadow1 rounded-8 group-hover:hover-transition",src:e,alt:"Build",layout:"fill",objectFit:"cover"}),(0,s.jsxs)("div",{className:"absolute inset-0 z-10 flex flex-col justify-center items-center opacity-0 group-hover:opacity-100",children:[s.jsx(i,{}),s.jsx("div",{className:"flex items-center justify-center caption-2 mt-13 w-93 h-24 bg-gray-grayscale20 text-gray-grayscale40 rounded-full",children:"이미지 수정"})]})]})},9757:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(5344),s=r(9410),l=r(2685),n=r(2017);r(3729);let i=({bgColor:e})=>(0,a.jsxs)("div",{className:`${e||"bg-blue-blue30"} w-full h-39  flex justify-between pl-15 rounded-t-8`,children:[a.jsx(s.default,{src:l.Z,alt:"PromptLogo",className:"object-contain",width:39,height:11.65}),a.jsx("button",{className:`hover:bg-red-red30 ${e||"bg-blue-blue30"} w-39 h-39 flex items-center justify-center rounded-tr-8 hover-transition`,children:a.jsx(s.default,{src:n.Z,alt:"PromptOut",className:"object-contain",width:10,height:10})})]})},9804:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(5344),s=r(3729);let l=({children:e,isOpen:t})=>((0,s.useEffect)(()=>(t?window.document.body.style.overflow="hidden":window.document.body.style.overflow="auto",()=>{window.document.body.style.overflow="auto"}),[t]),a.jsx("div",{className:"fixed z-backdrop top-0 left-0 w-full h-full bg-[#00000040] z-100 flex justify-center items-center",children:e??null}))},1688:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(5344),s=r(9410),l=r(415),n=r(718),i=r(9757);let o=({variant:e,label:t,onConfirm:r})=>{let{bgHeader:o}=(e=>{switch(e){case"blue":default:return{bgHeader:"bg-blue-blue30"};case"red":return{bgHeader:"bg-red-red20"};case"green":return{bgHeader:"bg-green-green20"}}})(e);return(0,a.jsxs)("div",{className:"w-456 h-194 flex flex-col items-center rounded-8 shadow-xl bg-white pb-15",children:[a.jsx(i.Z,{bgColor:o}),a.jsx(s.default,{src:l.Z,className:"mt-19 mb-16",width:22,height:19,alt:"PromptWarning"}),a.jsx("h1",{className:"alert-cap text-gray-grayscale50 text-center",children:t.split("\\n").map((e,t)=>a.jsx("p",{className:"leading-25",children:e},t))}),a.jsx("div",{className:"ml-auto mt-auto",children:a.jsx(n.Z,{label:"확인",onClick:r,hoverColor:e})})]})}},7012:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(5344),s=r(9410),l=r(415),n=r(718),i=r(9757);let o=({variant:e,label:t,onCancel:r,onConfirm:o})=>{let{bgHeader:d}=(e=>{switch(e){case"blue":default:return{bgHeader:"bg-blue-blue30"};case"red":return{bgHeader:"bg-red-red20"};case"green":return{bgHeader:"bg-green-green20"}}})(e);return(0,a.jsxs)("div",{className:"w-456 h-194 flex flex-col items-center rounded-8 shadow-xl bg-white pb-15",children:[a.jsx(i.Z,{bgColor:d}),a.jsx(s.default,{src:l.Z,className:"mt-19 mb-16",width:22,height:19,alt:"PromptWarning"}),a.jsx("h1",{className:"alert-cap text-gray-grayscale50 text-center",children:t.split("\\n").map((e,t)=>a.jsx("p",{className:"leading-25",children:e},t))}),(0,a.jsxs)("div",{className:"ml-auto mt-auto",children:[a.jsx(n.Z,{label:"취소",onClick:r,hoverColor:"gray"}),a.jsx(n.Z,{label:"확인",onClick:o,hoverColor:e})]})]})}},7960:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>s,default:()=>n});let a=(0,r(6843).createProxy)(String.raw`C:\Users\LeeBoHyun\Desktop\dormease-web\src\app\dashboard\BuildingManagement\BuildingSettings\page.tsx`),{__esModule:s,$$typeof:l}=a,n=a.default},2685:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a={src:"/_next/static/media/PromptLogo.692c0d92.png",height:13,width:39,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAHlBMVEX///////////////////////////////////////8V2MxSAAAACnRSTlPlmoJy+43FvWlJljCSDAAAAAlwSFlzAAALEwAACxMBAJqcGAAAACFJREFUeJwFwYEBADAIwrDCxOn/D5vAhDw+2qanBFbF9gEEtABSm4AZFAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:3}},2017:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a={src:"/_next/static/media/PromptOut.98b7927a.png",height:12,width:12,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAElBMVEX///////////////9MaXH///91ewZhAAAABnRSTlNA0QMxAHpSp+N/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKUlEQVR4nEWLsQ0AMAyDcEz/f7lT0w0J4OCMHAhKQNIGGZvU+bBq47dfE2gAiTtnxw0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},415:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a={src:"/_next/static/media/PromptWarning.99ab5e8b.png",height:21,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAHlBMVEXXNTXXNTVMaXHWNTXXNTXXNTWqVVXUODjYNzfWNTXpH04wAAAACnRSTlN9jQA8LFoDEkykCmOTUQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAC9JREFUeJwdwYkNADAMAjE4SJ/9F65UW4ANaDEzwxLbiTdCOSdCNQmuXBoqXX33ARTdAKE2+uYqAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:7}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[456,332,999,356,731,812,552],()=>r(3601));module.exports=a})();