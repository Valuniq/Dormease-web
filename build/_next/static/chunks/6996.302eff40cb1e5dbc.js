(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6996],{68647:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(58640),i=n(75518);let o=async e=>{let t=new FormData;return t.append("image",e),await (0,i.Z)("".concat(r._,"/api/v1/web/images"),{method:"POST",body:t})}},55909:function(e,t,n){"use strict";n.r(t);var r=n(57437),i=n(24232),o=n(2265),l=n(82813);n(21851);var a=n(65615),u=n(32153),c=n(30408),s=n(68647);let d=(0,i.default)(()=>Promise.resolve().then(n.t.bind(n,65615,23)),{loadableGenerated:{webpack:()=>[65615]},ssr:!1});a.Quill.register("modules/ImageResize",l.y);let f=(0,o.forwardRef)((e,t)=>{let{width:n,height:i,setEditorHtml:l,initialContent:f}=e,[m,h]=(0,u.FV)(c.f),p=async()=>{let e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.style.display="none",document.body.appendChild(e),e.click(),e.onchange=async()=>{let t=e.files?e.files[0]:null;if(t)try{let e=(await (0,s.I)(t)).information.imageUrl;h(t=>[...t,e]);let r=document.querySelector(".ql-editor");if(r){var n;let t=null===(n=window.getSelection())||void 0===n?void 0:n.getRangeAt(0);if(t){let n=document.createElement("img");n.src=e,n.alt="image",t.insertNode(n),l(r.innerHTML)}}}catch(e){console.error("이미지 업로드 실패:",e)}}},g=(0,o.useMemo)(()=>({toolbar:{container:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]],handlers:{image:p}},clipboard:{matchVisual:!1},ImageResize:{parchment:a.Quill.import("parchment"),modules:["Resize","DisplaySize"]}}),[]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{ref:t,style:{width:n,height:i},children:(0,r.jsx)(d,{style:{width:n,height:i},theme:"snow",onChange:e=>{l(e)},modules:g,formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image"],defaultValue:f})})})});f.displayName="QuillEditor",t.default=(0,i.default)(()=>Promise.resolve(f),{ssr:!1})},30408:function(e,t,n){"use strict";n.d(t,{D:function(){return i},f:function(){return o}});var r=n(32153);let i=(0,r.cn)({key:"isEditorModifiedState",default:!1}),o=(0,r.cn)({key:"uploadedImagesState",default:[]})},25566:function(e){var t,n,r,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:l}catch(e){n=l}}();var u=[],c=!1,s=-1;function d(){c&&r&&(c=!1,r.length?u=r.concat(u):s=-1,u.length&&f())}function f(){if(!c){var e=a(d);c=!0;for(var t=u.length;t;){for(r=u,u=[];++s<t;)r&&r[s].run();s=-1,t=u.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===l||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||c||a(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}}]);