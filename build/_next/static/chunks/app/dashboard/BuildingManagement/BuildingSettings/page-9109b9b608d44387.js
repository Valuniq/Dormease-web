(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[755],{2261:function(e,t,r){Promise.resolve().then(r.bind(r,3481))},7907:function(e,t,r){"use strict";var a=r(5313);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},3481:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return B}});var a,l=r(7437);let n="eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbjAxOkFETUlOIiwiaXNzIjoiRG9ybWVhc2VWYWx1bmlRIiwiaWF0IjoxNzE2MzUxMzA0LCJleHAiOjE3MTYzNTMxMDR9.aYskJ5J-RihLgDIXWzWBfi8ugd8EXvQgGJxTJqzAkxqX7Sj66FIdZvd1d_KLyOtKa3RSRsWhLAK--SnxBCGHMA",s=async()=>{console.error("Unauthorized access - 401")},i=async e=>{if(401===e.status)throw await s(),Error("Unauthorized");if(!e.ok)throw Error("Server responded with status ".concat(e.status));return e.json()},o=async e=>i(await fetch("".concat("https://www.dormease-dev.kro.kr").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer ".concat(n)}})),c=async(e,t)=>{let r=new FormData;return r.append("registerDormitoryReq",new Blob([JSON.stringify({name:e})],{type:"application/json"})),null!==t?r.append("image",t):r.append("image",new Blob([])),i(await fetch("".concat("https://www.dormease-dev.kro.kr","/api/v1/web/dormitory/setting"),{method:"POST",headers:{Authorization:"bearer ".concat(n)},body:r}))},u=async e=>i(await fetch("".concat("https://www.dormease-dev.kro.kr","/api/v1/web/dormitory/setting/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"bearer ".concat(n)}}));var d=r(8751),g=r(9517),b=r(2265),h=e=>{let{label:t,selected:r=!1,...a}=e;return(0,l.jsx)("button",{...a,className:"H3 w-381 h-61 rounded-b-8 text-white hover:hover-transition ".concat(r?"bg-blue-blue50":"bg-blue-blue30 hover:bg-blue-blue40 active:bg-blue-blue50"),children:t})},A=r(2846);function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var m=function(e){return A.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none"},e),a||(a=A.createElement("path",{stroke:"#D83636",strokeLinecap:"round",strokeWidth:2,d:"m10 22 12-12M22 22 10 10"})))},v=r(703),w=e=>{let{id:t,name:r,imageUrl:a,onBuildingOutClick:n,onBuildingSettingsDetail:s}=e;return(0,l.jsxs)("div",{className:"relative w-381 h-241 rounded-8 bg-gray-grayscale5 cursor-pointer",onClick:()=>s(t),children:[null!==a&&(0,l.jsx)(v.default,{className:"rounded-8 cursor-pointer",src:a,alt:r,layout:"fill",objectFit:"cover"}),(0,l.jsx)("div",{className:"absolute bottom-0",children:(0,l.jsx)(h,{label:r,selected:!1})}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),n()},children:(0,l.jsx)(m,{className:"absolute right-8 top-8"})})]})},p=r(5407),y=r(8871),f={src:"/_next/static/media/AddBuildingLine.4a63cd90.png",height:2,width:416,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAACVBMVEXl5eXj4+Pm5ua+JgoRAAAAA3RSTlOgJTN0LShPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAADUlEQVR4nGNgZAADJgAAEwAEK5sv6QAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:1},j=r(621),N=e=>{let{onBuildingOutClick:t,onAddBuilding:r,input:a,setInput:n,selectImage:s,setSelectImage:i}=e,o=(0,b.useRef)(null),[c,u]=(0,b.useState)(""),d=()=>{var e;null===(e=o.current)||void 0===e||e.click()};return(0,l.jsxs)("div",{className:"relative w-454 h-681 shadow-2xl rounded-8 flex flex-col items-center bg-white",children:[(0,l.jsx)("button",{onClick:t,children:(0,l.jsx)(m,{className:"absolute right-8 top-8"})}),(0,l.jsxs)("div",{className:"flex flex-col items-center mt-33",children:[(0,l.jsx)("h1",{className:"H1 text-gray-grayscale50 mb-26",children:"건물명"}),(0,l.jsx)("h1",{className:"text-red-red20 mr-auto caption-2",children:"* 필수"}),(0,l.jsx)("input",{required:!0,placeholder:"건물 이름",className:"H2 w-337 h-59 focus:outline-none rounded-20 border-[1.5px] border-gray-grayscale30 px-17 placeholder:text-gray-grayscale30 text-gray-grayscale50",type:"text",value:a,onChange:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10)),n(e.target.value)},maxLength:10})]}),(0,l.jsx)(v.default,{src:f,width:415.5,height:1,className:"mt-32 mb-19",alt:"line"}),(0,l.jsxs)("div",{className:"w-415 border-dotted flex flex-col items-center",children:[(0,l.jsx)("h1",{className:"H1",children:"건물사진"}),(0,l.jsxs)("div",{className:"mt-45 w-381 h-241 flex items-center justify-center bg-gray-grayscale5 rounded-8",children:[s?(0,l.jsx)(j.Z,{image:c,onClick:d}):(0,l.jsx)(p.Z,{label:"사진 추가",disabled:!1,variant:"blue",onClick:d}),(0,l.jsx)("input",{id:"fileInput",type:"file",accept:"image/*",style:{display:"none",visibility:"hidden"},ref:o,onChange:e=>{if(!e.target.files||0===e.target.files.length){console.log("파일이 선택되지 않았습니다.");return}let t=e.target.files[0];u(URL.createObjectURL(t)),i(t)}})]})]}),(0,l.jsx)(v.default,{src:f,width:415.5,height:1,className:"mt-32 mb-19",alt:"line"}),(0,l.jsx)("div",{className:"w-415 border-dotted flex flex-col items-center",children:(0,l.jsx)(y.Z,{label:"건물 추가",disabled:""===a,variant:"blue",onClick:r})})]})},C=r(2992),E=r(9088),k=r(6066),O=e=>{let{variant:t,label:r,onConfirm:a}=e,{bgHeader:n}=(e=>{switch(e){case"blue":default:return{bgHeader:"bg-blue-blue30"};case"red":return{bgHeader:"bg-red-red20"};case"green":return{bgHeader:"bg-green-green20"}}})(t);return(0,l.jsxs)("div",{className:"w-456 h-194 flex flex-col items-center rounded-8 shadow-xl bg-white pb-15",children:[(0,l.jsx)(k.Z,{bgColor:n}),(0,l.jsx)(v.default,{src:C.Z,className:"mt-19 mb-16",width:22,height:19,alt:"PromptWarning"}),(0,l.jsx)("h1",{className:"alert-cap text-gray-grayscale50 text-center",children:r.split("\\n").map((e,t)=>(0,l.jsx)("p",{className:"leading-25",children:e},t))}),(0,l.jsx)("div",{className:"ml-auto mt-auto",children:(0,l.jsx)(E.Z,{label:"확인",onClick:a,hoverColor:t})})]})},Z=r(1723),H=r(7907),S=r(1252),B=()=>{let[e,t]=(0,b.useState)(),[r,a]=(0,b.useState)(!1),[n,s]=(0,b.useState)(!1),[i,h]=(0,b.useState)(!1),[A,x]=(0,b.useState)(!1),[m,v]=(0,b.useState)(""),[p,y]=(0,b.useState)(null),[f,j]=(0,b.useState)(null),C=(0,H.useRouter)(),{data:E,error:k}=(0,S.ZP)("/api/v1/web/dormitory/setting",o);(0,b.useEffect)(()=>{E?t(E.information):console.log(k)},[E,k]);let B=async()=>{try{let e=await c(m,p);e?"동일한 이름의 기숙사가 존재합니다."===e.information.message?a(!0):((0,S.JG)("/api/v1/web/dormitory/setting"),h(!i),v(""),y(null)):alert("실패")}catch(e){console.error(e),alert("오류가 발생했습니다.")}},R=async e=>{if(null!==e)try{let t=await u(e);console.log(t),t?((0,S.JG)("/api/v1/web/dormitory/setting"),x(!1),j(null)):console.log("실패")}catch(e){console.error(e),console.log("오류가 발생했습니다.")}};return(0,l.jsx)(b.Suspense,{fallback:(0,l.jsx)("h1",{children:"로딩 중"}),children:(0,l.jsxs)("div",{className:"flex flex-col w-[1200px]",children:[(0,l.jsx)("h1",{className:"H0 text-gray-grayscale50 text-center mb-35",children:"건물 설정"}),(0,l.jsxs)("div",{className:"w-[1220px] grid grid-cols-3 gap-x-20 gap-y-30 min-h-381 max-h-800 overflow-y-auto scrollbar-table",children:[e&&e.map(e=>(0,l.jsx)(w,{id:e.id,name:e.name,imageUrl:e.imageUrl,onBuildingOutClick:()=>{j(e.id),!0===e.assignedResidents?s(!0):x(!0)},onBuildingSettingsDetail:()=>C.push("/dashboard/BuildingManagement/BuildingSettings/".concat(e.id))},e.id)),(0,l.jsx)(d.Z,{onClick:()=>h(!0)})]}),i&&(0,l.jsx)(g.Z,{isOpen:i,children:(0,l.jsx)(N,{onBuildingOutClick:()=>{v(""),y(null),h(!i)},onAddBuilding:B,input:m,setInput:v,selectImage:p,setSelectImage:y})}),A&&(0,l.jsx)(g.Z,{isOpen:A,children:(0,l.jsx)(Z.Z,{variant:"red",label:"건물을 삭제하면 관련 데이터도 함께 삭제됩니다.\\n건물을 삭제하시겠습니까?",onCancel:()=>{x(!1),j(null)},onConfirm:()=>R(f)})}),n&&(0,l.jsx)(g.Z,{isOpen:n,children:(0,l.jsx)(O,{variant:"red",label:"해당 건물은 배정된 학생이 있습니다.",onConfirm:()=>{s(!1),j(null)}})}),r&&(0,l.jsx)(g.Z,{isOpen:r,children:(0,l.jsx)(O,{variant:"blue",label:"이미 등록되어 있는 건물명입니다.\\n다른 이름을 사용해 주세요.",onConfirm:()=>{a(!1),j(null)}})})]})})}},8751:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a,l=r(7437);r(2265);var n=r(2846);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var i=function(e){return n.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),a||(a=n.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:4.751,d:"M2.999 27h48M27 3v48"})))},o=e=>{let{...t}=e;return(0,l.jsxs)("button",{...t,className:"group flex flex-col justify-center items-center w-381 h-241 rounded-8 bg-gray-grayscale5 hover:hover-transition hover:bg-gray-grayscale10 active:bg-gray-grayscale20",children:[(0,l.jsx)("div",{className:"flex justify-center items-center w-102 h-102 rounded-full bg-gray-grayscale10 group-hover:hover-transition group-hover:bg-gray-grayscale20 group-active:bg-gray-grayscale30",children:(0,l.jsx)(i,{className:"text-gray-grayscale30 group-hover:text-gray-grayscale40 group-hover:hover-transition group-active:text-gray-grayscale50"})}),(0,l.jsx)("h2",{className:"H4 mt-21 w-142 py-5 rounded-full text-white bg-blue-blue30 group-hover:bg-blue-blue40 group-hover:hover-transition group-active:bg-blue-blue50",children:"건물 추가하기"})]})}},9088:function(e,t,r){"use strict";var a=r(7437);t.Z=e=>{let{label:t,onClick:r,hoverColor:l}=e,{btnHoverColor:n}=(e=>{switch(e){case"blue":default:return{btnHoverColor:"hover:bg-blue-blue30"};case"gray":return{btnHoverColor:"hover:bg-gray-grayscale20"};case"red":return{btnHoverColor:"hover:bg-red-red20"};case"green":return{btnHoverColor:"hover:bg-green-green20"}}})(l);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("button",{onClick:r,className:"mr-16 w-86 h-32 rounded-20 ".concat(n," hover-transition"),children:"gray"===l?(0,a.jsx)("h1",{className:"H4 text-gray-grayscale40",children:t}):(0,a.jsx)("h1",{className:"H4 text-gray-grayscale40  hover:text-white",children:t})})})}},5407:function(e,t,r){"use strict";var a=r(7437);r(2265),t.Z=e=>{let{label:t,variant:r,disabled:l,selected:n=!1,...s}=e;return(0,a.jsx)("button",{...s,disabled:l,className:"H4 w-115 h-37 rounded-full text-white hover:hover-transition ".concat((()=>{switch(r){case"blue":return"".concat(n?"bg-blue-blue50":"bg-blue-blue30 disabled:bg-blue-blue20 hover:bg-blue-blue40 active:bg-blue-blue50");case"green":return"".concat(n?"bg-green-green40":"bg-green-green20 disabled:bg-green-green10 hover:bg-green-green30 active:bg-green-green40");case"red":return"".concat(n?"bg-red-red40":"bg-red-red20 disabled:bg-red-red10 hover:bg-red-red30 active:bg-red-red40");default:return""}})()),children:t})}},8871:function(e,t,r){"use strict";var a=r(7437);r(2265),t.Z=e=>{let{label:t,disabled:r,variant:l,selected:n=!1,...s}=e;return(0,a.jsx)("button",{...s,disabled:r,className:"w-133 h-42 rounded-8 hover:hover-transition ".concat((()=>{switch(l){case"blue":return"Btn-cap shadow2 text-white ".concat(n?"bg-blue-blue50":"bg-blue-blue30 disabled:bg-blue-blue20 hover:bg-blue-blue40 active:bg-blue-blue50");case"green":return"Btn-cap shadow2 text-white ".concat(n?"bg-green-green40":"bg-green-green20 disabled:bg-green-green10 hover:bg-green-green30 active:bg-green-green40");case"red":return"Btn-cap shadow2 text-white ".concat(n?"bg-red-red40":"bg-red-red20 disabled:bg-red-red10 hover:bg-red-red30 active:bg-red-red40");case"gray":return"H4 text-gray-grayscale50 ".concat(r?"disabled:text-gray-grayscale40 disabled:bg-transparent":n?"bg-gray-grayscale30":"bg-gray-grayscale10 hover:bg-gray-grayscale20 active:bg-gray-grayscale30");case"whiteblue":return"Btn-cap shadow2 ".concat(n?"bg-blue-blue30 border-blue-blue50 text-white":"text-blue-blue30 border-[1.5px] bg-white border-blue-blue30 disabled:text-blue-blue20 disabled:bg-white disabled:border-blue-blue20 hover:bg-blue-blue20 hover:border-blue-blue30 hover:text-blue-blue30 active:bg-blue-blue30 active:border-blue-blue50 active:text-white");case"white":return"".concat(r?"H4 disabled:text-gray-grayscale20 disabled:bg-transparent":n?"H4 text-gray-grayscale50 bg-gray-grayscale30":"H4 text-gray-grayscale40 hover:bg-gray-grayscale10 hover:text-gray-grayscale50 active:bg-gray-grayscale30");default:return""}})()),children:t})}},621:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var a,l=r(7437);r(2265);var n=r(2846);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var i=function(e){return n.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:49,height:44,fill:"none"},e),a||(a=n.createElement("path",{stroke:"#CCC",strokeLinecap:"round",strokeWidth:3.75,d:"M2 32.508 17.058 18.39a2.5 2.5 0 0 1 3.527.107L42.781 42M32 29.814l7.246-6.04a2.5 2.5 0 0 1 3.368.153L47 28.313M47 37V7a5 5 0 0 0-5-5H7a5 5 0 0 0-5 5v30a5 5 0 0 0 5 5h35a5 5 0 0 0 5-5ZM37 13.563a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})))},o=r(703),c=e=>{let{image:t,name:r,...a}=e;return(0,l.jsxs)("button",{...a,className:"group relative flex flex-col justify-center items-center w-381 h-247 rounded-8",children:[t&&(0,l.jsx)(o.default,{className:"group-hover:brightness-50 shadow1 rounded-8 group-hover:hover-transition",src:t,alt:r||"",layout:"fill",objectFit:"cover"}),(0,l.jsxs)("div",{className:"absolute inset-0 z-10 flex flex-col justify-center items-center opacity-0 group-hover:opacity-100",children:[(0,l.jsx)(i,{}),(0,l.jsx)("div",{className:"flex items-center justify-center caption-2 mt-13 w-93 h-24 bg-gray-grayscale20 text-gray-grayscale40 rounded-full",children:"이미지 수정"})]})]})}},6066:function(e,t,r){"use strict";var a=r(7437),l=r(703),n=r(5343),s=r(2866);r(2265),t.Z=e=>{let{bgColor:t}=e;return(0,a.jsxs)("div",{className:"".concat(t||"bg-blue-blue30"," w-full h-39  flex justify-between pl-15 rounded-t-8"),children:[(0,a.jsx)(l.default,{src:n.Z,alt:"PromptLogo",className:"object-contain",width:39,height:11.65}),(0,a.jsx)("button",{className:"hover:bg-red-red30 ".concat(t||"bg-blue-blue30"," w-39 h-39 flex items-center justify-center rounded-tr-8 hover-transition"),children:(0,a.jsx)(l.default,{src:s.Z,alt:"PromptOut",className:"object-contain",width:10,height:10})})]})}},9517:function(e,t,r){"use strict";var a=r(7437),l=r(2265);t.Z=e=>{let{children:t,isOpen:r}=e;return(0,l.useEffect)(()=>(r?window.document.body.style.overflow="hidden":window.document.body.style.overflow="auto",()=>{window.document.body.style.overflow="auto"}),[r]),(0,a.jsx)("div",{className:"fixed z-backdrop top-0 left-0 w-full h-full bg-[#00000040] z-100 flex justify-center items-center",children:null!=t?t:null})}},1723:function(e,t,r){"use strict";var a=r(7437),l=r(703),n=r(2992),s=r(9088),i=r(6066);t.Z=e=>{let{variant:t,label:r,onCancel:o,onConfirm:c}=e,{bgHeader:u}=(e=>{switch(e){case"blue":default:return{bgHeader:"bg-blue-blue30"};case"red":return{bgHeader:"bg-red-red20"};case"green":return{bgHeader:"bg-green-green20"}}})(t);return(0,a.jsxs)("div",{className:"w-456 h-194 flex flex-col items-center rounded-8 shadow-xl bg-white pb-15",children:[(0,a.jsx)(i.Z,{bgColor:u}),(0,a.jsx)(l.default,{src:n.Z,className:"mt-19 mb-16",width:22,height:19,alt:"PromptWarning"}),(0,a.jsx)("h1",{className:"alert-cap text-gray-grayscale50 text-center",children:r.split("\\n").map((e,t)=>(0,a.jsx)("p",{className:"leading-25",children:e},t))}),(0,a.jsxs)("div",{className:"ml-auto mt-auto",children:[(0,a.jsx)(s.Z,{label:"취소",onClick:o,hoverColor:"gray"}),(0,a.jsx)(s.Z,{label:"확인",onClick:c,hoverColor:t})]})]})}},5343:function(e,t){"use strict";t.Z={src:"/_next/static/media/PromptLogo.692c0d92.png",height:13,width:39,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAHlBMVEX///////////////////////////////////////8V2MxSAAAACnRSTlPlmoJy+43FvWlJljCSDAAAAAlwSFlzAAALEwAACxMBAJqcGAAAACFJREFUeJwFwYEBADAIwrDCxOn/D5vAhDw+2qanBFbF9gEEtABSm4AZFAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:3}},2866:function(e,t){"use strict";t.Z={src:"/_next/static/media/PromptOut.98b7927a.png",height:12,width:12,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAElBMVEX///////////////9MaXH///91ewZhAAAABnRSTlNA0QMxAHpSp+N/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKUlEQVR4nEWLsQ0AMAyDcEz/f7lT0w0J4OCMHAhKQNIGGZvU+bBq47dfE2gAiTtnxw0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},2992:function(e,t){"use strict";t.Z={src:"/_next/static/media/PromptWarning.99ab5e8b.png",height:21,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAHlBMVEXXNTXXNTVMaXHWNTXXNTXXNTWqVVXUODjYNzfWNTXpH04wAAAACnRSTlN9jQA8LFoDEkykCmOTUQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAC9JREFUeJwdwYkNADAMAjE4SJ/9F65UW4ANaDEzwxLbiTdCOSdCNQmuXBoqXX33ARTdAKE2+uYqAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:7}}},function(e){e.O(0,[703,898,964,971,69,744],function(){return e(e.s=2261)}),_N_E=e.O()}]);