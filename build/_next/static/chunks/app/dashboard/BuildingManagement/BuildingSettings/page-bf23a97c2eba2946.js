(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[755],{10375:function(e,t,r){Promise.resolve().then(r.bind(r,80337))},47907:function(e,t,r){"use strict";var l=r(15313);r.o(l,"usePathname")&&r.d(t,{usePathname:function(){return l.usePathname}}),r.o(l,"useRouter")&&r.d(t,{useRouter:function(){return l.useRouter}})},46426:function(e,t){"use strict";t.J=void 0,t.J=(e={})=>{if("undefined"==typeof window)return{persistAtom:()=>{}};let{key:t="recoil-persist",storage:r=localStorage,converter:l=JSON}=e,a=(e,t,r,l)=>{l?delete t[r]:t[r]=e,i(t)},n=()=>{let e=r.getItem(t);return null==e?{}:"string"==typeof e?s(e):"function"==typeof e.then?e.then(s):{}},s=e=>{if(void 0===e)return{};try{return l.parse(e)}catch(e){return console.error(e),{}}},i=e=>{try{"function"==typeof r.mergeItem?r.mergeItem(t,l.stringify(e)):r.setItem(t,l.stringify(e))}catch(e){console.error(e)}};return{persistAtom:({onSet:e,node:t,trigger:r,setSelf:l})=>{if("get"===r){let e=n();"function"==typeof e.then&&e.then(e=>{e.hasOwnProperty(t.key)&&l(e[t.key])}),e.hasOwnProperty(t.key)&&l(e[t.key])}e(async(e,r,l)=>{let s=n();"function"==typeof s.then?s.then(r=>a(e,r,t.key,l)):a(e,s,t.key,l)})}}}},80337:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var l,a=r(57437),n=r(59899),s=r(38751),i=r(79517),o=r(2265),c=e=>{let{label:t,selected:r=!1,...l}=e;return(0,a.jsx)("button",{...l,className:"H3 w-381 h-61 rounded-b-8 text-white hover:hover-transition ".concat(r?"bg-blue-blue50":"bg-blue-blue30 hover:bg-blue-blue40 active:bg-blue-blue50"),children:t})},u=r(52846);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}).apply(this,arguments)}var g=function(e){return u.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none"},e),l||(l=u.createElement("path",{stroke:"#D83636",strokeLinecap:"round",strokeWidth:2,d:"m10 22 12-12M22 22 10 10"})))},h=r(20703),A=e=>{let{id:t,name:r,imageUrl:l,onBuildingOutClick:n,onBuildingSettingsDetail:s}=e;return(0,a.jsxs)("div",{className:"relative w-381 h-241 rounded-8 bg-gray-grayscale5 cursor-pointer",onClick:()=>s(t),children:[null!==l&&(0,a.jsx)(h.default,{className:"rounded-8 cursor-pointer",src:l,alt:r,fill:!0,priority:!0,style:{objectFit:"cover"}}),(0,a.jsx)("div",{className:"absolute bottom-0",children:(0,a.jsx)(c,{label:r,selected:!1})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),n()},children:(0,a.jsx)(g,{className:"absolute right-8 top-8"})})]})},b=r(95407),m=r(48871),x={src:"/_next/static/media/AddBuildingLine.4a63cd90.png",height:2,width:416,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAABCAMAAADU3h9xAAAACVBMVEXl5eXj4+Pm5ua+JgoRAAAAA3RSTlOgJTN0LShPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAADUlEQVR4nGNgZAADJgAAEwAEK5sv6QAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:1},f=r(60621),p=e=>{let{onBuildingOutClick:t,onAddBuilding:r,input:l,setInput:n,selectImage:s,setSelectImage:i}=e,c=(0,o.useRef)(null),[u,d]=(0,o.useState)(""),A=()=>{var e;null===(e=c.current)||void 0===e||e.click()};return(0,a.jsxs)("div",{className:"relative w-454 h-681 shadow-2xl rounded-8 flex flex-col items-center bg-white",children:[(0,a.jsx)("button",{onClick:t,children:(0,a.jsx)(g,{className:"absolute right-8 top-8"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center mt-33",children:[(0,a.jsx)("h1",{className:"H1 text-gray-grayscale50 mb-26",children:"건물명"}),(0,a.jsx)("h1",{className:"text-red-red20 mr-auto caption-2",children:"* 필수"}),(0,a.jsx)("input",{required:!0,placeholder:"건물 이름",className:"H2 w-337 h-59 focus:outline-none rounded-20 border-[1.5px] border-gray-grayscale30 px-17 placeholder:text-gray-grayscale30 text-gray-grayscale50",type:"text",value:l,onChange:e=>{e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10)),n(e.target.value)},maxLength:10})]}),(0,a.jsx)(h.default,{src:x,width:415.5,height:1,className:"mt-32 mb-19",alt:"line"}),(0,a.jsxs)("div",{className:"w-415 border-dotted flex flex-col items-center",children:[(0,a.jsx)("h1",{className:"H1",children:"건물사진"}),(0,a.jsxs)("div",{className:"mt-45 w-381 h-241 flex items-center justify-center bg-gray-grayscale5 rounded-8",children:[s?(0,a.jsx)(f.Z,{image:u,onClick:A}):(0,a.jsx)(b.Z,{label:"사진 추가",disabled:!1,variant:"blue",onClick:A}),(0,a.jsx)("input",{id:"fileInput",type:"file",accept:"image/*",style:{display:"none",visibility:"hidden"},ref:c,onChange:e=>{if(!e.target.files||0===e.target.files.length){console.log("파일이 선택되지 않았습니다.");return}let t=e.target.files[0];d(URL.createObjectURL(t)),i(t)}})]})]}),(0,a.jsx)(h.default,{src:x,width:415.5,height:1,className:"mt-32 mb-19",alt:"line"}),(0,a.jsx)("div",{className:"w-415 border-dotted flex flex-col items-center",children:(0,a.jsx)(m.Z,{label:"건물 추가",disabled:""===l,variant:"blue",onClick:r})})]})},y=r(22992),v=r(9088),w=r(26066),j=e=>{let{variant:t,label:r,onConfirm:l}=e,{bgHeader:n}=(e=>{switch(e){case"blue":default:return{bgHeader:"bg-blue-blue30"};case"red":return{bgHeader:"bg-red-red20"};case"green":return{bgHeader:"bg-green-green20"}}})(t);return(0,a.jsxs)("div",{className:"w-456 h-194 flex flex-col items-center rounded-8 shadow-xl bg-white pb-15",children:[(0,a.jsx)(w.Z,{bgColor:n,onCancel:l}),(0,a.jsx)(h.default,{src:y.Z,className:"mt-19 mb-16",width:22,height:19,alt:"PromptWarning"}),(0,a.jsx)("h1",{className:"alert-cap text-gray-grayscale50 text-center",children:r.split("\n").map((e,t)=>(0,a.jsx)("p",{className:"leading-25",children:e},t))}),(0,a.jsx)("div",{className:"ml-auto mt-auto",children:(0,a.jsx)(v.Z,{label:"확인",onClick:l,hoverColor:t})})]})},N=r(91723),C=r(42025),E=r(47907),k=r(32153),S=()=>{let[e,t]=(0,o.useState)(),[r,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)(!1),[d,g]=(0,o.useState)(!1),[h,b]=(0,o.useState)(!1),[m,x]=(0,o.useState)(""),[f,y]=(0,o.useState)(null),[v,w]=(0,o.useState)(null),S=(0,E.useRouter)(),O=(0,k.Zl)(C.K),{data:Z,error:H,mutate:U}=(0,n.Xy)();(0,o.useEffect)(()=>{Z?t(Z.information):console.log(H)},[Z,H]);let B=async()=>{try{let e=await (0,n.D5)(m,f);e.check?"동일한 이름의 기숙사가 존재합니다."===e.information.message?l(!0):(await U(),g(!d),x(""),y(null)):alert("실패")}catch(e){console.error(e),alert("오류가 발생했습니다.")}},R=async e=>{if(null!==e)try{(await (0,n.Pt)(e)).check?(await U(),b(!1),w(null)):console.log("실패")}catch(e){console.error(e),console.log("오류가 발생했습니다.")}};return(0,a.jsx)(o.Suspense,{fallback:(0,a.jsx)("h1",{children:"로딩 중"}),children:(0,a.jsxs)("div",{className:"flex flex-col w-[1200px]",children:[(0,a.jsx)("h1",{className:"H0 text-gray-grayscale50 text-center mb-35",children:"건물 설정"}),(0,a.jsxs)("div",{className:"w-[1220px] grid grid-cols-3 gap-x-20 gap-y-30 min-h-381 max-h-800 overflow-y-auto scrollbar-table",children:[e&&e.map((e,t)=>(0,a.jsx)(A,{id:e.id,name:e.name,imageUrl:e.imageUrl,onBuildingOutClick:()=>{w(e.id),!0===e.assignedResidents?u(!0):b(!0)},onBuildingSettingsDetail:()=>{O(e.id),S.push("/dashboard/BuildingManagement/BuildingSettings/Detail")}},t)),(0,a.jsx)(s.Z,{onClick:()=>g(!0)})]}),d&&(0,a.jsx)(i.Z,{isOpen:d,children:(0,a.jsx)(p,{onBuildingOutClick:()=>{x(""),y(null),g(!d)},onAddBuilding:B,input:m,setInput:x,selectImage:f,setSelectImage:y})}),h&&(0,a.jsx)(i.Z,{isOpen:h,children:(0,a.jsx)(N.Z,{variant:"red",label:"건물을 삭제하면 관련 데이터도 함께 삭제됩니다.\\n건물을 삭제하시겠습니까?",onCancel:()=>{b(!1),w(null)},onConfirm:()=>R(v)})}),c&&(0,a.jsx)(i.Z,{isOpen:c,children:(0,a.jsx)(j,{variant:"red",label:"해당 건물은 배정된 학생이 있습니다.",onConfirm:()=>{u(!1),w(null)}})}),r&&(0,a.jsx)(i.Z,{isOpen:r,children:(0,a.jsx)(j,{variant:"blue",label:"이미 등록되어 있는 건물명입니다.\\n다른 이름을 사용해 주세요.",onConfirm:()=>{l(!1),w(null)}})})]})})}},38751:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var l,a=r(57437);r(2265);var n=r(52846);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}).apply(this,arguments)}var i=function(e){return n.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),l||(l=n.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:4.751,d:"M2.999 27h48M27 3v48"})))},o=e=>{let{...t}=e;return(0,a.jsxs)("button",{...t,className:"group flex flex-col justify-center items-center w-381 h-241 rounded-8 bg-gray-grayscale5 hover:hover-transition hover:bg-gray-grayscale10 active:bg-gray-grayscale20",children:[(0,a.jsx)("div",{className:"flex justify-center items-center w-102 h-102 rounded-full bg-gray-grayscale10 group-hover:hover-transition group-hover:bg-gray-grayscale20 group-active:bg-gray-grayscale30",children:(0,a.jsx)(i,{className:"text-gray-grayscale30 group-hover:text-gray-grayscale40 group-hover:hover-transition group-active:text-gray-grayscale50"})}),(0,a.jsx)("h2",{className:"H4 mt-21 w-142 py-5 rounded-full text-white bg-blue-blue30 group-hover:bg-blue-blue40 group-hover:hover-transition group-active:bg-blue-blue50",children:"건물 추가하기"})]})}},9088:function(e,t,r){"use strict";var l=r(57437);t.Z=e=>{let{label:t,onClick:r,hoverColor:a}=e,{btnHoverColor:n}=(e=>{switch(e){case"blue":default:return{btnHoverColor:"hover:bg-blue-blue30"};case"gray":return{btnHoverColor:"hover:bg-gray-grayscale20"};case"red":return{btnHoverColor:"hover:bg-red-red20"};case"green":return{btnHoverColor:"hover:bg-green-green20"}}})(a);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("button",{onClick:r,className:"mr-16 w-86 h-32 rounded-20 ".concat(n," hover-transition"),children:"gray"===a?(0,l.jsx)("h1",{className:"H4 text-gray-grayscale40",children:t}):(0,l.jsx)("h1",{className:"H4 text-gray-grayscale40  hover:text-white",children:t})})})}},26066:function(e,t,r){"use strict";var l=r(57437),a=r(20703),n=r(95343),s=r(42866);r(2265),t.Z=e=>{let{bgColor:t,onCancel:r}=e;return(0,l.jsxs)("div",{className:"".concat(t||"bg-blue-blue30"," w-full h-39  flex justify-between pl-15 rounded-t-8"),children:[(0,l.jsx)(a.default,{src:n.Z,alt:"PromptLogo",className:"object-contain",width:39,height:11.65}),(0,l.jsx)("button",{className:"hover:bg-red-red30 ".concat(t||"bg-blue-blue30"," w-39 h-39 flex items-center justify-center rounded-tr-8 hover-transition"),onClick:r,children:(0,l.jsx)(a.default,{src:s.Z,alt:"PromptOut",className:"object-contain",width:10,height:10})})]})}},79517:function(e,t,r){"use strict";var l=r(57437),a=r(2265),n=r(54887);t.Z=e=>{let{children:t,isOpen:r}=e;return(0,a.useEffect)(()=>(r?window.document.body.style.overflow="hidden":window.document.body.style.overflow="auto",()=>{window.document.body.style.overflow="auto"}),[r]),(0,n.createPortal)((0,l.jsx)("div",{className:"fixed z-backdrop top-0 left-0 w-full h-full bg-[#00000040] flex justify-center items-center",children:(0,l.jsx)("div",{className:"xl:scale-65 xxl:scale-80 lg:scale-65 md:scale-50 sm:scale-40",children:null!=t?t:null})}),document.body)}},91723:function(e,t,r){"use strict";var l=r(57437),a=r(20703),n=r(22992),s=r(9088),i=r(26066);t.Z=e=>{let{variant:t,label:r,onConfirm:o,onCancel:c}=e,{bgHeader:u}=(e=>{switch(e){case"blue":default:return{bgHeader:"bg-blue-blue30"};case"red":return{bgHeader:"bg-red-red20"};case"green":return{bgHeader:"bg-green-green20"}}})(t);return(0,l.jsxs)("div",{className:"w-456 h-194 flex flex-col items-center rounded-8 shadow-xl bg-white pb-15",children:[(0,l.jsx)(i.Z,{bgColor:u,onCancel:c}),(0,l.jsx)(a.default,{src:n.Z,className:"mt-19 mb-16",width:22,height:19,alt:"PromptWarning"}),(0,l.jsx)("h1",{className:"alert-cap text-gray-grayscale50 text-center",children:r.split("\\n").map((e,t)=>(0,l.jsx)("p",{className:"leading-25",children:e},t))}),(0,l.jsxs)("div",{className:"ml-auto mt-auto",children:[(0,l.jsx)(s.Z,{label:"취소",onClick:c,hoverColor:t}),(0,l.jsx)(s.Z,{label:"확인",onClick:o,hoverColor:t})]})]})}},42025:function(e,t,r){"use strict";r.d(t,{K:function(){return i}});var l=r(46426),a=r(32153);let n=window.sessionStorage,{persistAtom:s}=(0,l.J)({key:"buildingSettingIdState",storage:n}),i=(0,a.cn)({key:"buildingSettingIdState",default:0,effects_UNSTABLE:[s]})},95343:function(e,t){"use strict";t.Z={src:"/_next/static/media/PromptLogo.692c0d92.png",height:13,width:39,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAHlBMVEX///////////////////////////////////////8V2MxSAAAACnRSTlPlmoJy+43FvWlJljCSDAAAAAlwSFlzAAALEwAACxMBAJqcGAAAACFJREFUeJwFwYEBADAIwrDCxOn/D5vAhDw+2qanBFbF9gEEtABSm4AZFAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:3}},42866:function(e,t){"use strict";t.Z={src:"/_next/static/media/PromptOut.98b7927a.png",height:12,width:12,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAElBMVEX///////////////9MaXH///91ewZhAAAABnRSTlNA0QMxAHpSp+N/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKUlEQVR4nEWLsQ0AMAyDcEz/f7lT0w0J4OCMHAhKQNIGGZvU+bBq47dfE2gAiTtnxw0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},22992:function(e,t){"use strict";t.Z={src:"/_next/static/media/PromptWarning.99ab5e8b.png",height:21,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAHlBMVEXXNTXXNTVMaXHWNTXXNTXXNTWqVVXUODjYNzfWNTXpH04wAAAACnRSTlN9jQA8LFoDEkykCmOTUQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAC9JREFUeJwdwYkNADAMAjE4SJ/9F65UW4ANaDEzwxLbiTdCOSdCNQmuXBoqXX33ARTdAKE2+uYqAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:7}}},function(e){e.O(0,[691,703,4898,1252,2144,2971,8069,1744],function(){return e(e.s=10375)}),_N_E=e.O()}]);