(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9932,1475],{67176:function(e,t,r){"use strict";var a,l=r(52846);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}t.Z=function(e){return l.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none"},e),a||(a=l.createElement("path",{stroke:"#D83636",strokeLinecap:"round",strokeWidth:2,d:"M1 13 13 1M13 13 1 1"})))}},86207:function(e,t,r){Promise.resolve().then(r.bind(r,27180))},46426:function(e,t){"use strict";t.J=void 0,t.J=(e={})=>{if("undefined"==typeof window)return{persistAtom:()=>{}};let{key:t="recoil-persist",storage:r=localStorage,converter:a=JSON}=e,l=(e,t,r,a)=>{a?delete t[r]:t[r]=e,i(t)},s=()=>{let e=r.getItem(t);return null==e?{}:"string"==typeof e?n(e):"function"==typeof e.then?e.then(n):{}},n=e=>{if(void 0===e)return{};try{return a.parse(e)}catch(e){return console.error(e),{}}},i=e=>{try{"function"==typeof r.mergeItem?r.mergeItem(t,a.stringify(e)):r.setItem(t,a.stringify(e))}catch(e){console.error(e)}};return{persistAtom:({onSet:e,node:t,trigger:r,setSelf:a})=>{if("get"===r){let e=s();"function"==typeof e.then&&e.then(e=>{e.hasOwnProperty(t.key)&&a(e[t.key])}),e.hasOwnProperty(t.key)&&a(e[t.key])}e(async(e,r,a)=>{let n=s();"function"==typeof n.then?n.then(r=>l(e,r,t.key,a)):l(e,n,t.key,a)})}}}},27180:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return I}});var a,l,s=r(57437),n=r(59899),i=r(38751),o=r(2265),c=r(52846);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var u=function(e){return c.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),a||(a=c.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:2.25,d:"M1.5 12h21M12 1.5v21"})))},g=e=>{let{...t}=e;return(0,s.jsxs)("button",{...t,className:"group flex flex-col justify-center items-center w-142 h-76 rounded-full bg-transparent hover:bg-gray-grayscale5 hover:hover-transition active:bg-gray-grayscale10",children:[(0,s.jsx)("div",{className:"flex justify-center items-center w-33 h-33 rounded-3 bg-gray-grayscale20 group-active:bg-gray-grayscale30",children:(0,s.jsx)(u,{className:"text-white group-hover:text-gray-grayscale5 group-hover:hover-transition group-active:text-gray-grayscale10"})}),(0,s.jsx)("h2",{className:"caption-2 mt-5 text-gray-grayscale40",children:"층 추가"})]})},h=r(95407),x=r(48871),b=r(31371),m=r(60621),p=e=>{let{label:t,detail:r,selected:a=!1,done:l,...n}=e;return(0,s.jsx)("button",{...n,className:"H4 rounded-8 ".concat(!0===r?"w-80 h-34":"w-143 h-42"," ").concat(a?"text-white bg-blue-blue30":l?"text-white bg-blue-blue20":"text-gray-grayscale30 bg-gray-grayscale5 hover:text-blue-blue10 hover:bg-blue-blue20 hover:hover-transition hover:hover-transition active:text-white active:bg-blue-blue30","\n"),children:t})};function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var y=function(e){return c.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:5,height:19,fill:"none"},e),l||(l=c.createElement("path",{fill:"#474747",d:"M2.125 4.25a2.125 2.125 0 1 1 0-4.25 2.125 2.125 0 0 1 0 4.25M2.125 11.5a2.124 2.124 0 1 1 0-4.249 2.124 2.124 0 0 1 0 4.248M2.125 18.749a2.123 2.123 0 1 1 0-4.247 2.123 2.123 0 0 1 0 4.247"})))},A=r(67176),v=r(94770),j=e=>{let{selected:t=!1,hovered:r=!1,floorInput:a,setFloorInput:l,endInput:n,setEndInput:i,isOne:o,pressOkBtn:c,deleteDetailRoom:d,...u}=e;return(0,s.jsxs)("div",{...u,className:"group flex justify-between items-center w-403 h-52 rounded-r-8 rounded-l-50 ".concat(o?"":r?"bg-gray-grayscale5":"hover:bg-gray-grayscale5 hover:hover-transition"," "),children:[(0,s.jsx)("div",{onClick:e=>{e.stopPropagation(),d()},children:(0,s.jsx)(A.Z,{className:"ml-21 opacity-0 ".concat(o?"":r?"opacity-100":"group-hover:opacity-100 group-hover:hover-transition")})}),(0,s.jsxs)("div",{className:"flex items-center ".concat(t?r?"":"bg-blue-blue15 py-9 px-14 rounded-8 group-hover:bg-gray-grayscale5 group-hover:hover-transition:":""),children:[(0,s.jsx)(v.Z,{input:a,setInput:l,placeholder:"층",type:"textBox7"}),(0,s.jsx)("h5",{className:"Caption2 text-gray-grayscale50 ml-4 mr-17",children:"층"}),(0,s.jsx)(v.Z,{input:"1",setInput:e=>{},placeholder:"시작",type:"textBox7",readOnly:!0}),(0,s.jsx)("h5",{className:"Caption2 text-gray-grayscale50 mx-6",children:"-"}),(0,s.jsx)(v.Z,{input:n,setInput:i,placeholder:"끝",type:"textBox7"}),(0,s.jsx)("div",{className:"w-22"}),c?(0,s.jsx)(b.Z,{label:"복제",disabled:!1,selected:!1,variant:"blue",onClick:e=>e.stopPropagation()}):(0,s.jsx)(b.Z,{label:"확인",disabled:""===a||""===n,selected:!1,variant:"blue",onClick:e=>e.stopPropagation()})]}),(0,s.jsx)(y,{className:"mr-11 opacity-0 ".concat(o?"":r?"opacity-100":"group-hover:opacity-100 group-hover:hover-transition")})]})},w={src:"/_next/static/media/BuildingTextIcon.f2783d9a.png",height:26,width:26,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEU0NDRMaXEwMDBFRUUxMTEzMzM0NDQwMDAwMDAwMDA0NDQzMzMyMjKRQ+wNAAAADXRSTlP+AIEDLuf1okZgxBSOr0Gx4QAAAAlwSFlzAAALEwAACxMBAJqcGAAAADRJREFUeJwVx8ERwDAIwDAbUkjS7j9vj5dOaPpWi+k+wUe6HnYEI7VkJJRLEabUPJXuM/oDHeYAwichZ34AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},N=r(20703),k=e=>{let{placeholder:t,input:r,setInput:a}=e;return(0,s.jsxs)("div",{className:"flex items-end",children:[(0,s.jsx)("input",{className:"".concat(r?"border-b-gray-grayscale50 ":"border-b-gray-grayscale20"," H0 focus:border-b-gray-grayscale50 w-507 h-60 border-b-1 placeholder:text-gray-grayscale30 text-center focus:outline-none pb-6 text-gray-grayscale50 "),placeholder:t,type:"text",value:r,onChange:e=>{a(e.target.value)}}),(0,s.jsx)(N.default,{src:w,width:25,height:25,className:"object-contain mb-5",alt:"BuildingTextIcon"})]})},R=r(31475),C=e=>{let{id:t,roomNumber:r,roomSize:a,gender:l,hasKey:n,isChecked:i,handleCheckboxChange:o}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("tr",{className:"table rounded-5 w-[917px] H4-caption h-38 text-nowrap align-middle cursor-pointer ".concat(i?"bg-gray-grayscale20":"hover:bg-gray-grayscale10 active:bg-gray-grayscale20"),children:[(0,s.jsx)("td",{className:"w-[10%]",children:r}),(0,s.jsx)("td",{className:"w-[25%]",children:null===a?"-":a+"인실"}),(0,s.jsx)("td",{className:"w-[20%]",children:"MALE"===l?"남":"FEMALE"===l?"여":"-"}),(0,s.jsx)("td",{className:"w-[35%]",children:!0===n?"수령":!1===n?"미수령":"-"}),(0,s.jsx)("td",{className:"w-[10%]",children:(0,s.jsx)("div",{className:"flex justify-center items-center",children:(0,s.jsx)(R.default,{isChecked:i,setIsChecked:()=>o(t)})})})]}),(0,s.jsx)("tr",{className:"h-10"})]})},E=e=>{let{checkedItems:t,handleCheckboxChange:r,list:a}=e;return(0,s.jsxs)("table",{className:"text-nowrap text-center text-gray-grayscale50",children:[(0,s.jsxs)("thead",{className:"table w-[917px]",children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"H4 w-[10%]",children:"호 실"}),(0,s.jsx)("th",{className:"H4 w-[25%]",children:"인 실"}),(0,s.jsx)("th",{className:"H4 w-[20%]",children:"성 별"}),(0,s.jsx)("th",{className:"H4 w-[35%]",children:"열쇠 수령 여부"}),(0,s.jsx)("th",{className:"H4 w-[10%]",children:(0,s.jsxs)("div",{className:"flex items-center justify-center text-center w-full gap-6",children:["전 체",(0,s.jsx)(R.default,{isChecked:a.length>0&&t.length===a.length,setIsChecked:e=>{e?a.forEach(e=>{t.includes(e.id)||r(e.id)}):a.forEach(e=>{t.includes(e.id)&&r(e.id)})}})]})})]}),(0,s.jsx)("tr",{className:"h-15 border-b-1"})]}),(0,s.jsxs)("tbody",{className:"block w-[931px] h-540 overflow-y-auto scrollbar-table",children:[(0,s.jsx)("tr",{className:"h-10"}),a.map((e,a)=>(0,s.jsx)(C,{id:e.id,roomNumber:e.roomNumber,roomSize:e.roomSize,gender:e.gender,hasKey:e.hasKey,isChecked:t.includes(e.id),handleCheckboxChange:r,floor:e.floor,isActivated:e.isActivated},a))]})]})},S=r(42025),U=r(32153),I=()=>{let e=(0,o.useRef)(null),t=(0,U.sJ)(S.K),{data:r,error:a,mutate:l}=(0,n.ri)(t),[c,d]=(0,o.useState)({id:t,name:"",imageUrl:null,floorAndRoomNumberRes:[]}),[u,f]=(0,o.useState)([]),[y,A]=(0,o.useState)({floor:2,startRoomNumber:1,endRoomNumber:1}),[v,w]=(0,o.useState)(0),[N,R]=(0,o.useState)([]),[C,I]=(0,o.useState)([]),{data:B,error:M,mutate:O}=(0,n.Vj)(t,y.floor),[D,J]=(0,o.useState)();(0,o.useEffect)(()=>{r&&r.information&&d(r.information)},[r]),(0,o.useEffect)(()=>{B&&B.information&&J(B.information)},[B]);let H=(e,t,r,a)=>{a?f(a=>{let l=[...a];return l[e]={...l[e],[t]:parseInt(r,10)||""},l}):d(a=>{let l=[...a.floorAndRoomNumberRes];return l[e]={...l[e],[t]:parseInt(r,10)||""},{...a,floorAndRoomNumberRes:l}})},Z=()=>{var t;null===(t=e.current)||void 0===t||t.click()},z=async e=>{if(!e.target.files||0===e.target.files.length){console.log("파일이 선택되지 않았습니다.");return}let r=e.target.files[0],a=URL.createObjectURL(r);(await (0,n.to)(t,r)).check&&d(e=>({...e,imageUrl:a}))},V=async e=>{};return(0,s.jsxs)("div",{className:"flex flex-col relative w-[1331px]",children:[(0,s.jsx)("div",{className:"flex justify-center w-full mb-30",children:(0,s.jsx)(k,{placeholder:"건물명",input:c.name,setInput:e=>{d(t=>({...t,name:e}))}})}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"w-381 h-241 flex items-center justify-center bg-gray-grayscale5 rounded-8",children:[c.imageUrl?(0,s.jsx)(m.Z,{image:c.imageUrl,name:c.imageUrl,onClick:Z}):(0,s.jsx)(i.Z,{onClick:Z}),(0,s.jsx)("input",{id:"fileInput",type:"file",accept:"image/*",style:{display:"none",visibility:"hidden"},ref:e,onChange:z})]}),(0,s.jsxs)("div",{className:"mt-28 flex flex-col items-center",children:[(0,s.jsx)("h3",{className:"H3 text-gray-grayscale50 text-center",children:"호실 개수"}),(0,s.jsx)("hr",{className:"w-331 border-gray-grayscale50 mt-15 mb-8"}),(0,s.jsxs)("div",{className:"flex flex-col mr-15 gap-12",children:[c.floorAndRoomNumberRes.map((e,t)=>{var r,a;return(0,s.jsx)(j,{selected:y.floor===e.floor&&y.endRoomNumber===e.endRoomNumber,floorInput:(null===(r=e.floor)||void 0===r?void 0:r.toString())||"",setFloorInput:e=>{H(t,"floor",e,!1)},endInput:(null===(a=e.endRoomNumber)||void 0===a?void 0:a.toString())||"",setEndInput:e=>{H(t,"endRoomNumber",e,!1)},isOne:0===t,pressOkBtn:!0,hovered:!1,deleteDetailRoom:()=>V(e.floor),onClick:()=>A(e)},t)}),u.map((e,t)=>{var r,a;return(0,s.jsx)(j,{selected:y===e,floorInput:(null===(r=e.floor)||void 0===r?void 0:r.toString())||"",setFloorInput:e=>{H(t,"floor",e,!0)},endInput:(null===(a=e.endRoomNumber)||void 0===a?void 0:a.toString())||"",setEndInput:e=>{H(t,"endRoomNumber",e,!0)},isOne:!1,pressOkBtn:!1,hovered:!1,deleteDetailRoom:()=>V(e.floor),onClick:()=>A(e)},t)})]}),(0,s.jsx)("div",{className:"h-13"}),(0,s.jsx)(g,{onClick:()=>f([...u,{floor:parseInt(""),startRoomNumber:1,endRoomNumber:parseInt("")}])})]})]}),(0,s.jsx)("div",{className:"w-33"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"w-917 h-121 shadow2 rounded-7 bg-white items-center flex justify-between pl-40 pr-23 px-13 mb-30",children:[(0,s.jsx)("h1",{className:"H1 text-blue-blue30",children:"필터"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex gap-22",children:[(0,s.jsx)(p,{label:"남자/여자",detail:!1,selected:1===v,done:N.includes(1),onClick:()=>w(1)}),(0,s.jsx)(p,{label:"호실 타입",detail:!1,selected:2===v,done:N.includes(2),onClick:()=>w(2)}),(0,s.jsx)(p,{label:"열쇠 수령 여부",detail:!1,selected:3===v,done:N.includes(3),onClick:()=>w(3)}),(0,s.jsx)(p,{label:"비활성화",detail:!1,selected:4===v,done:N.includes(4),onClick:()=>w(4)})]}),(0,s.jsx)("div",{className:"h-53 flex gap-15 justify-end items-end ",children:1===v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p,{label:"남자",detail:!0,selected:!1}),(0,s.jsx)(p,{label:"여자",detail:!0,selected:!1})]}):2===v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p,{label:"1인실",detail:!0,selected:!1}),(0,s.jsx)(p,{label:"2인실",detail:!0,selected:!1}),(0,s.jsx)(p,{label:"3인실",detail:!0,selected:!1}),(0,s.jsx)(p,{label:"4인실",detail:!0,selected:!1}),(0,s.jsx)(p,{label:"5인실",detail:!0,selected:!1}),(0,s.jsx)(p,{label:"6인실",detail:!0,selected:!1})]}):3===v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p,{label:"수령",detail:!0,selected:!1}),(0,s.jsx)(p,{label:"미수령",detail:!0,selected:!1})]}):4===v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{label:"활성화",disabled:!1,variant:"green"}),(0,s.jsx)(h.Z,{label:"비활성화",disabled:!1,variant:"red"})]}):(0,s.jsx)(s.Fragment,{})})]})]}),(0,s.jsx)(E,{list:D||[],checkedItems:C,handleCheckboxChange:e=>{I(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}})]})]}),(0,s.jsxs)("div",{className:"flex mt-21",children:[(0,s.jsx)("div",{className:"flex-1"}),(0,s.jsx)("div",{className:"flex-1 flex justify-center",children:(0,s.jsx)(x.Z,{label:"등록",disabled:!c.name,variant:"blue"})}),(0,s.jsx)("div",{className:"flex-1 flex justify-end",children:(0,s.jsx)(b.Z,{label:"저장",disabled:!1,variant:"blue",selected:!1})})]})]})}},38751:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a,l=r(57437);r(2265);var s=r(52846);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var i=function(e){return s.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:54,height:54,fill:"none"},e),a||(a=s.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:4.751,d:"M2.999 27h48M27 3v48"})))},o=e=>{let{...t}=e;return(0,l.jsxs)("button",{...t,className:"group flex flex-col justify-center items-center w-381 h-241 rounded-8 bg-gray-grayscale5 hover:hover-transition hover:bg-gray-grayscale10 active:bg-gray-grayscale20",children:[(0,l.jsx)("div",{className:"flex justify-center items-center w-102 h-102 rounded-full bg-gray-grayscale10 group-hover:hover-transition group-hover:bg-gray-grayscale20 group-active:bg-gray-grayscale30",children:(0,l.jsx)(i,{className:"text-gray-grayscale30 group-hover:text-gray-grayscale40 group-hover:hover-transition group-active:text-gray-grayscale50"})}),(0,l.jsx)("h2",{className:"H4 mt-21 w-142 py-5 rounded-full text-white bg-blue-blue30 group-hover:bg-blue-blue40 group-hover:hover-transition group-active:bg-blue-blue50",children:"건물 추가하기"})]})}},31371:function(e,t,r){"use strict";var a=r(57437);r(2265),t.Z=e=>{let{label:t,disabled:r,selected:l=!1,variant:s,...n}=e;return(0,a.jsx)("button",{...n,disabled:r,className:"H4 w-79 h-34 rounded-full text-white hover:hover-transition ".concat((e=>{switch(e){case"blue":return"".concat(l?"bg-blue-blue50":"bg-blue-blue30 disabled:bg-blue-blue20 hover:bg-blue-blue40 active:bg-blue-blue50");case"red":return"".concat(l?"bg-red-red40":"bg-red-red20 disabled:bg-red-red10 hover:bg-red-red30 active:bg-red-red40");default:return""}})(s)),children:t})}},31475:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var a=r(57437);r(2265);var l={src:"/_next/static/media/Checked.2a02f83f.png",height:40,width:39,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEU3e941eNg2eNg2edo2e942dtU0ddI2edo3eNk5gOaHhQcyAAAACXRSTlP+/dqx7UQiy4HaUf1QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAMUlEQVR4nB3FyQ3AQAjAQJtjCf03HAk/xmRcyQKH6GaLw+YbsL98s0L1i1Wg6h6CEj8a4AC53DY/oQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},s={src:"/_next/static/media/UnChecked.bea25168.png",height:39,width:39,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAFVBMVEVERERMaXFVVVU/Pz9mZmZ/f39VVVV1Ch9XAAAAB3RSTlN1AAMEBQQGqDJaiQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAACRJREFUeJxjYIADFiYmJiY2BgYGJkZGRkZm/AxWRiYmRhaEZgAKMwBG4KHziQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},n=r(20703),i=e=>{let{isChecked:t,setIsChecked:r}=e;return(0,a.jsx)(n.default,{className:"cursor-pointer",src:t?l:s,alt:t?"Checked":"UnChecked",width:19.5,height:19.5,onClick:e=>{e.stopPropagation(),r(!t)}})}},94770:function(e,t,r){"use strict";var a=r(57437);t.Z=e=>{let{input:t,setInput:r,placeholder:l,readOnly:s,type:n}=e,{boxSize:i,textAlign:o,inputType:c}=(e=>{switch(e){case"textBox1":default:return{boxSize:"w-133",textAlign:"",inputType:"text"};case"textBox2":return{boxSize:"w-235",textAlign:"",inputType:"text"};case"textBox3":return{boxSize:"w-76",textAlign:"placeholder:text-center text-center",inputType:"number"};case"textBox4":return{boxSize:"w-66",textAlign:"placeholder:text-center",inputType:"text"};case"textBox5":return{boxSize:"w-114",textAlign:"text-right",inputType:"text"};case"textBox6":return{boxSize:"w-145",textAlign:"text-right",inputType:"text"};case"textBox7":return{boxSize:"w-54",textAlign:"placeholder:text-center text-center",inputType:"number"};case"textBox8":return{boxSize:"w-111",textAlign:"",inputType:"text"}}})(n);return(0,a.jsx)("input",{className:"".concat(t?"border-gray-grayscale50":"border-gray-grayscale30"," H4-caption  border-[0.5px] outline-none px-8 ").concat(i," ").concat(o,"  rounded-8 text-gray-grayscale50 placeholder:text-gray-grayscale30"),placeholder:l,type:c,value:t,readOnly:s,onChange:e=>{r(e.target.value)}})}},42025:function(e,t,r){"use strict";r.d(t,{K:function(){return i}});var a=r(46426),l=r(32153);let s=window.sessionStorage,{persistAtom:n}=(0,a.J)({key:"buildingSettingIdState",storage:s}),i=(0,l.cn)({key:"buildingSettingIdState",default:0,effects_UNSTABLE:[n]})}},function(e){e.O(0,[691,703,4898,1252,2144,2971,8069,1744],function(){return e(e.s=86207)}),_N_E=e.O()}]);