(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4224],{8087:function(e,t,n){Promise.resolve().then(n.bind(n,6925))},7907:function(e,t,n){"use strict";var r=n(5313);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},6719:function(e,t,n){"use strict";n.d(t,{f:function(){return a},j:function(){return c}});var r=n(8640),s=n(7124),o=n(1252),i=n(4817);let a=()=>{var e,t,n;let{data:o,error:a,size:c,setSize:l}=(0,i.ZP)((e,t)=>t&&0===t.information.dataList.length?null:"".concat(r._,"/api/v1/app/requestments?page=").concat(e+1),s.Z),u=o?o.reduce((e,t)=>e.concat(t.information.dataList),[]):[],d=!o&&!a||c>0&&o&&void 0===o[c-1];return{requestData:u,error:a,isLoadingMore:d,size:c,setSize:l,isReachingEnd:(null==o?void 0:null===(e=o[0])||void 0===e?void 0:e.information.dataList.length)===0||o&&(null===(t=o[o.length-1])||void 0===t?void 0:t.information.pageInfo.currentPage)===(null===(n=o[o.length-1])||void 0===n?void 0:n.information.pageInfo.totalPage)||!1}},c=e=>{let{data:t,error:n}=(0,o.ZP)("".concat(r._,"/api/v1/app/requestments/").concat(e),s.Z);return{data:t,error:n,isLoading:!n&&!t}}},6925:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(7437),s=n(6719);n(2265);var o=e=>{let{index:t,requestmentId:n,title:s,writer:o,createdDate:i,progression:a,onRequestClick:c}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",{className:"table rounded-5 w-[1200px] H4-caption h-38 align-middle cursor-pointer hover:bg-gray-grayscale10 active:bg-gray-grayscale20",onClick:()=>c(n),children:[(0,r.jsx)("td",{className:"w-[8%]",children:t+1}),(0,r.jsx)("td",{className:"w-[56%] truncate max-w-500",children:s}),(0,r.jsx)("td",{className:"w-[11%]",children:o}),(0,r.jsx)("td",{className:"w-[17%]",children:i}),(0,r.jsx)("td",{className:"w-[8%]",children:"IN_REVIEW"===a?"검토중":"ANSWER_COMPLETED"===a?"완료됨":"진행중"})]}),(0,r.jsx)("tr",{className:"h-14"})]})},i=n(3122),a=e=>{let{list:t,onRequestClick:n}=e;return(0,r.jsxs)("table",{className:"text-nowrap text-center text-gray-grayscale50",children:[(0,r.jsxs)("thead",{className:"table w-[1200px]",children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"H4 w-[8%]",children:"번 호"}),(0,r.jsx)("th",{className:"H4 w-[56%]",children:"제 목"}),(0,r.jsx)("th",{className:"H4 w-[11%]",children:"작성자"}),(0,r.jsx)("th",{className:"H4 w-[17%]",children:"등록일"}),(0,r.jsx)("th",{className:"H4 w-[8%]",children:"답변여부"})]}),(0,r.jsx)("tr",{className:"h-15 border-b-1"})]}),t?(0,r.jsxs)("tbody",{className:"w-[1214px] block h-677 overflow-y-auto scrollbar-table",children:[(0,r.jsx)("tr",{className:"h-15"}),t.map((e,t)=>(0,r.jsx)(o,{index:t,requestmentId:e.requestmentId,title:e.title,writer:e.writer,createdDate:e.createdDate,progression:e.progression,onRequestClick:n},e.requestmentId))]}):(0,r.jsx)("tbody",{children:(0,r.jsx)(i.Z,{colspan:5})})]})},c=n(6824),l=n(7907),u=n(2153),d=n(8205),h=()=>{let e=(0,u.Zl)(d.H),t=(0,l.useRouter)(),{requestData:n,error:o,isLoadingMore:i,size:h,setSize:f,isReachingEnd:m}=(0,s.f)();return(0,r.jsxs)(c.Z,{isLoading:o,isReachingEnd:m,loadMore:()=>f(h+1),children:[(0,r.jsxs)("div",{className:"flex flex-col w-[1200px]",children:[(0,r.jsx)("h1",{className:"text-center H0 text-gray-grayscale50 text-nowrap",children:"요청사항"}),(0,r.jsx)(a,{list:n,onRequestClick:n=>{e(n),t.push("/dashboard/Request/Detail")}})]}),i&&(0,r.jsx)(r.Fragment,{})]})}},3122:function(e,t,n){"use strict";var r=n(7437);n(2265),t.Z=e=>{let{colspan:t}=e;return(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:t,className:"h-full",children:(0,r.jsx)("div",{className:"flex justify-center items-center h-693",children:(0,r.jsx)("h1",{className:"H1 text-gray-grayscale30",children:"리스트가 비었습니다."})})})})}},8640:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});let r="https://www.dormease-dev.kro.kr"},9652:function(e,t,n){"use strict";n.d(t,{L:function(){return r},z:function(){return s}});let r="ACCESS_TOKEN",s="REFRESH_TOKEN"},6824:function(e,t,n){"use strict";var r=n(7437),s=n(2265);t.Z=e=>{let{children:t,isLoading:n,isReachingEnd:o,loadMore:i}=e;return(0,s.useEffect)(()=>{let e=()=>{n||o||!(window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-50)||i()};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[n,o,i]),(0,r.jsx)(r.Fragment,{children:t})}},8205:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});let r=(0,n(2153).cn)({key:"requestIdState",default:0})},7124:function(e,t,n){"use strict";var r=n(7871),s=n(9652);let o=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.Z.getToken(s.L);if(!n)throw Error("No access token found");let o={...t.headers,Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},i=await fetch(e,{...t,headers:o});if(!i.ok)throw 401===i.status&&(r.Z.removeToken(s.L),r.Z.removeToken(s.z),alert("세션이 만료되었습니다. 다시 로그인해 주세요.")),Error("Failed to fetch data");return i.json()};t.Z=o},7871:function(e,t){"use strict";t.Z={saveToken:(e,t)=>{localStorage.setItem(e,t)},getToken:e=>localStorage.getItem(e),removeToken:e=>{localStorage.removeItem(e)}}},5566:function(e){var t,n,r,s=e.exports={};function o(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var c=[],l=!1,u=-1;function d(){l&&r&&(l=!1,r.length?c=r.concat(c):u=-1,c.length&&h())}function h(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(r=c,c=[];++u<t;)r&&r[u].run();u=-1,t=c.length}r=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},function(e){e.O(0,[691,4898,4817,1252,2971,8069,1744],function(){return e(e.s=8087)}),_N_E=e.O()}]);