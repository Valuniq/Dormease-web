(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5208],{99261:function(e,a,r){Promise.resolve().then(r.bind(r,58756))},58756:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return y}});var s=r(57437),i=r(68267),l=r(47907);r(2265);var t=r(32153),n=r(4550),c=r(57482),o=r(81252),d=r(58640),m=r(20703),x=r(10129),h=r(48871);r(23886);var f=r(28771),N=r(76531),j=e=>{let{data:a,handleDelete:r}=e,i=(0,l.useRouter)(),{showConfirmDialog:t,ConfirmDialogComponent:n}=(0,f.Z)("공지사항을 삭제하시겠습니까?",r,"red");return(0,s.jsxs)(s.Fragment,{children:[!!n&&n,(0,s.jsxs)("div",{className:"w-[1200px] px-12",children:[(0,s.jsxs)("div",{className:" flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-end",children:[(0,s.jsx)("h1",{className:"H0 text-gray-grayscale50 mr-8",children:"공지사항"}),a.information.pinned&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-nowrap mr-4 H4 text-blue-blue20 mb-8",children:"최상단 고정"}),(0,s.jsx)(m.default,{src:x.Z,width:18,height:18,className:"mb-20 object-contain ",alt:"pin"})]})]}),(0,s.jsxs)("div",{className:"w-278 flex justify-between",children:[(0,s.jsx)(h.Z,{onClick:()=>i.push(c.lT),label:"수정하기",disabled:!1,variant:"gray",className:"mr-12"}),(0,s.jsx)(h.Z,{onClick:t,label:"삭제",disabled:!1,variant:"red"})]})]}),(0,s.jsxs)("div",{className:"pt-21 pb-24 border-y-1 border-y-gray-grayscale50",children:[(0,s.jsx)("div",{className:"pb-21 pl-12 flex items-center",children:(0,s.jsxs)("h1",{className:"mr-40 text-nowrap H4 text-gray-grayscale50",children:[" ",a.information.title]})}),(0,s.jsxs)("div",{className:"pl-12 flex items-center justify-between py-13 border-y border-gray-grayscale30 border-opacity-30",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("h1",{className:"mr-40 text-nowrap H4 text-gray-grayscale50",children:"작성자"}),(0,s.jsx)("h1",{className:"text-nowrap H4 text-gray-grayscale40",children:a.information.writer})]}),(0,s.jsxs)("div",{className:"flex items-center cation2 text-gray-grayscale40",children:[(0,s.jsxs)("div",{className:"flex items-center mr-30 text-nowrap",children:[(0,s.jsx)("h1",{className:"mr-19 ",children:"작성일"}),(0,s.jsx)("h1",{children:a.information.createdDate})]}),(0,s.jsxs)("div",{className:"flex items-center text-nowrap",children:[(0,s.jsx)("h1",{className:"mr-19 ",children:"수정일"}),(0,s.jsx)("h1",{children:a.information.modifiedDate})]})]})]}),(0,s.jsx)("div",{className:"h-450 p-17 overflow-y-auto border-1 border-gray-grayscale30 border-opacity-30 rounded-8 my-23",children:(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:a.information.content},className:"editor-content"})}),(0,s.jsxs)("div",{className:"pl-12 flex items-center pt-23 border-t-1 border-y-gray-grayscale30 border-opacity-30",children:[(0,s.jsx)("h1",{className:"H4 text-gray-grayscale50 mr-20 text-nowrap",children:"첨부파일"}),a.information.fileList&&a.information.fileList.length>0?(0,s.jsx)(s.Fragment,{children:a.information.fileList.map((e,a)=>(0,s.jsxs)("ul",{className:"mr-10 flex align-center",children:[(0,s.jsx)("a",{target:"_blank",className:"mr-4 border-b border-gray-grayscale50",href:e.fileUrl,download:e.originalFileName,children:e.originalFileName}),(0,s.jsx)(m.default,{width:16,height:15,src:N.Z,className:"object-contain",alt:"FileClip"})]},a))}):(0,s.jsx)("h2",{className:"H4 text-gray-grayscale30",children:"첨부파일이 없습니다."})]})]})]})]})},y=()=>{let e=(0,l.useRouter)(),a=(0,t.sJ)(i.H),{data:r,error:m,isLoading:x}=(0,n.NE)(a),{size:h}=(0,n.V2)(),f=async()=>{try{let r=await (0,n.Zt)(a),s=await r;if(r.ok||r.check){console.log("Notice deleted successfully"),console.log("Server response:",s);for(let e=0;e<h;e++){let a="".concat(d._,"/api/v1/web/notifications/ANNOUNCEMENT?page=").concat(e+1);await (0,o.JG)(a,void 0,{revalidate:!0})}e.push(c.K1)}else console.error("Notice 삭제 실패:",s)}catch(e){console.error("Notice 삭제 에러",e)}};return x?(0,s.jsx)("div",{children:"Loading..."}):m?(0,s.jsx)("div",{children:"Failed to load notice detail"}):r?(r.information.fileList.map(e=>({fileId:e.fileId,fileUrl:e.fileUrl,originalFileName:e.originalFileName})),(0,s.jsx)("div",{children:(0,s.jsx)(j,{data:r,handleDelete:f})})):(0,s.jsx)("div",{children:"No data available"})}},68267:function(e,a,r){"use strict";r.d(a,{H:function(){return l}});var s=r(32153);let{persistAtom:i}=(0,r(46426).J)(),l=(0,s.cn)({key:"noticeIdState",default:0,effects_UNSTABLE:[i]})}},function(e){e.O(0,[691,4898,703,1252,4817,7570,2971,8069,1744],function(){return e(e.s=99261)}),_N_E=e.O()}]);