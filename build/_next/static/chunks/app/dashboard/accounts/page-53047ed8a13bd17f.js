(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4157],{47080:function(e,a,s){Promise.resolve().then(s.bind(s,98692))},98692:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return H}});var t=s(57437),r=s(58640),n=s(75518),l=s(81252);let i=()=>{let{data:e,error:a,mutate:s}=(0,l.ZP)("".concat(r._,"/api/v1/web/admin/account"),n.Z);return{data:e,error:a,isLoading:!a&&!e,mutate:s}},c=async e=>await (0,n.Z)("".concat(r._,"/api/v1/web/admin/account/name"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminName:e})}),o=async e=>await (0,n.Z)("".concat(r._,"/api/v1/web/admin/account/securityCode?securityCode=").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}),d=async e=>await (0,n.Z)("".concat(r._,"/api/v1/web/admin/account/password"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})});var A=s(79517),m=s(20703),g=s(2265),x=s(49191),h=e=>{let{isActive:a}=e;return(0,t.jsx)("div",{className:"absolute inset-0 bg-black rounded-10 transition-all duration-500 ease-in-out pointer-events-none ".concat(a?"opacity-0":"opacity-25")})},u=e=>{let{address:a,tel:s,fax:r,isActive:n}=e;return(0,t.jsxs)("div",{className:"relative w-333 h-477 rounded-10 flex flex-col items-start justify-start px-38 pt-38 bg-gray-grayscale5",children:[(0,t.jsx)(h,{isActive:n}),(0,t.jsx)(m.default,{src:x.Z,alt:"logo",width:125,height:46,className:"object-contain mb-30 mx-auto"}),(0,t.jsxs)("address",{className:"mb-30",children:[(0,t.jsx)("strong",{className:"caption-1 text-gray-grayscale40 mb-18",children:"주소"})," ",(0,t.jsx)("br",{}),(0,t.jsx)("p",{className:"caption-2 text-gray-grayscale30 w-256",children:a})]}),(0,t.jsxs)("div",{className:"mb-30",children:[(0,t.jsx)("strong",{className:"caption-1 text-gray-grayscale40 mb-18",children:"TEL"})," ",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"caption-2 text-gray-grayscale30",children:s})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{className:"caption-1 text-gray-grayscale40 mb-18",children:"FAX"})," ",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"caption-2 text-gray-grayscale30",children:r})]})]})},p={src:"/_next/static/media/AccountsUserProfile.9935e2bf.png",height:74,width:74,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEVMaXHNzc3a2trMzMzMzMzR0dHLy8vNzc3e3t7MzMzMzMzMzMzo6OiGRUR0AAAADHRSTlMAFP61QXdpkVaT+fpriP3SAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMUlEQVR4nGNgQABGZmZGMIODh4cVVYSNnZ0NxGJjYmICy7EycXMxcYKUsLCwsDAyAAASsgCnmdbqAgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},b=e=>{let{dormInfo:a,isActive:s}=e;return(0,t.jsxs)("div",{className:"relative w-686 h-168 rounded-10 bg-gray-grayscale5 flex items-center pl-46",children:[(0,t.jsx)(h,{isActive:s}),(0,t.jsx)("div",{className:"flex items-center justify-center w-116 h-116 rounded-[50%] bg-gray-grayscale10 mr-31",children:(0,t.jsx)(m.default,{src:p,alt:"profile",width:73,height:73,className:"object-contain"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"caption-1 text-gray-grayscale40",children:"기숙사 정보"}),(0,t.jsx)("p",{className:"H3 text-blue-blue30",children:"도미대학교 미즈캠퍼스"})]})]})},y=s(54363),j={src:"/_next/static/media/GrayLogo.8693ea11.png",height:37,width:124,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAGFBMVEXm5ubm5ubr6+vm5ubn5+fm5ubp6enl5eWu88+dAAAACHRSTlPubfm44X2zycZMGeIAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAXSURBVHicY2BgZmRgYWRiY2ACMVjZWQEBQAAtTAoHfgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:2},w=s(79467),f=e=>{let{id:a,name:s,isActive:n,isEditMode:i,setIsEditMode:o}=e,[d,A]=(0,g.useState)(""),[x,u]=(0,g.useState)(!1),p=async()=>{if(d.length>0)try{u(!0),await c(d),(0,l.JG)("".concat(r._,"/api/v1/web/admin/account")),o()}catch(e){console.error("이름 변경 중 오류가 발생했습니다.",e)}finally{u(!1)}};return(0,t.jsxs)("div",{className:"relative w-333 h-366 rounded-10 bg-gray-grayscale5 flex flex-col items-start pt-20 pl-16",children:[(0,t.jsx)(h,{isActive:n}),i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-52 pl-14",children:[(0,t.jsxs)("div",{className:"flex items-center mb-27",children:[(0,t.jsx)("span",{className:"caption-1 text-gray-grayscale40 mr-170",children:"아이디"}),(0,t.jsx)("button",{onClick:o,className:"w-68 h-30 rounded-10 bg-red-red10 text-white caption-1 flex items-center justify-center",children:"취소"})]}),(0,t.jsx)("p",{className:"H3 text-gray-grayscale50 ml-8",children:a})]}),(0,t.jsxs)("div",{className:"flex flex-col items-start justify-between mb-33",children:[(0,t.jsx)("span",{className:"caption-1 text-gray-grayscale40 pl-14",children:"관리자명"}),(0,t.jsxs)("div",{className:"flex items-center gap-20 mt-15",children:[(0,t.jsx)("input",{maxLength:w.zh.name.maxLength,type:"text",value:d,onChange:e=>{A(e.target.value)},placeholder:s,className:"w-183 h-50 rounded-10 bg-white outline-none H3 placeholder:text-gray-grayscale30 text-gray-grayscale50 pl-18"}),(0,t.jsx)("button",{onClick:p,disabled:0===d.length||x,className:"transition-all duration-300 ease-in-out  rounded-10 text-white H4 w-90 h-50 flex items-center justify-center ".concat(d.length>0&&!x?"bg-blue-blue30 cursor-pointer":"bg-blue-blue20 cursor-not-allowed"),children:x?"처리 중":"수정완료"})]}),(0,t.jsx)("p",{className:"caption-2 text-red-red20 mt-12",children:w.zh.name.defaultLabel})]}),(0,t.jsx)(m.default,{src:j,alt:"gray logo",width:123.16,height:36.77,className:"object-contain"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-52 pl-14",children:[(0,t.jsx)("span",{className:"caption-1 text-gray-grayscale40",children:"아이디"}),(0,t.jsx)("p",{className:"H3 text-gray-grayscale50 ml-8 mt-27",children:a})]}),(0,t.jsxs)("div",{className:"pl-14",children:[(0,t.jsx)("span",{className:"caption-1 text-gray-grayscale40",children:"관리자명"}),(0,t.jsxs)("div",{className:"flex items-center mt-15 w-275 ",children:[(0,t.jsx)("p",{className:"H3 text-gray-grayscale50 whitespace-nowrap",children:s}),(0,t.jsxs)("button",{disabled:!n,onClick:o,className:"ml-auto w-90 h-50 rounded-10 bg-gray-grayscale10 border-1 border-gray-grayscale20 flex items-center justify-center",children:["수정",(0,t.jsx)(m.default,{src:y.Z,alt:"edit",width:24,height:24,className:"object-contain ml-7"})]})]})]}),(0,t.jsx)(m.default,{src:j,alt:"gray logo",width:123.16,height:36.77,className:"object-contain mt-auto mb-16"})]})]})},N={src:"/_next/static/media/EyeBtn.bd3c5bfe.png",height:32,width:32,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAFVBMVEUrKyswMDAxMTEzMzMxMTExMTExMTHbpeIsAAAAB3RSTlMBP1fqpMBLwUtc+QAAAAlwSFlzAAALEwAACxMBAJqcGAAAABxJREFUeJxjYMACmFhZmUA0IzMLCzMjMgMuhQ4ACLgAPaQVy3IAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},v=e=>{let{placeholder:a,isDisabled:s,input:r,setInput:n,isActive:l}=e,[i,c]=(0,g.useState)(!1);return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{minLength:w.zh.password.minLength,maxLength:w.zh.password.maxLength,placeholder:a,disabled:s,value:r,onChange:e=>{n(e.target.value)},type:i?"text":"password",className:"w-293 h-50 rounded-10 outline-none text-gray-grayscale50 H3 placeholder:text-gray-grayscale20 pl-18 pr-40 ".concat(l?"bg-white":"bg-inherit")}),!s&&r&&(0,t.jsx)(m.default,{src:N,alt:"eye btn",width:32,height:32,className:"absolute right-9 top-1/2 transform -translate-y-1/2 cursor-pointer",onClick:()=>{c(e=>!e)}})]})},C=s(42825),M=s(91723),E=s(66111);let B=e=>{let a=e.length>=w.zh.password.minLength&&e.length<=w.zh.password.maxLength,s=/^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[\W_]).{6,20}$/.test(e);return a&&s};var L=s(32153),S=e=>{let{isActive:a,isEditMode:s,setIsEditMode:r,setSecureMode:n,openModal:l,closeModal:i}=e,[c,o]=(0,g.useState)(""),[m,x]=(0,g.useState)(""),[u,p]=(0,g.useState)(""),[b,y]=(0,L.FV)(E.B);(0,g.useEffect)(()=>{c&&!B(c)?p(w.zh.password.messages.invalid):c&&m&&c!==m?p(w.zh.password.messages.mismatch):p("")},[c,m]);let j=async()=>{try{await d(c),i("passwordConfirm"),l("passwordChanged")}catch(e){i("passwordConfirm"),l("passwordFailed")}};return(0,t.jsxs)(t.Fragment,{children:[b.passwordConfirm&&(0,t.jsx)(A.Z,{isOpen:b.passwordConfirm,children:(0,t.jsx)(M.Z,{variant:"blue",label:"비밀번호를 변경하시겠습니까?",onConfirm:j,onCancel:()=>i("passwordConfirm")})}),b.passwordChanged&&(0,t.jsx)(A.Z,{isOpen:b.passwordChanged,children:(0,t.jsx)(C.Z,{variant:"blue",label:"비밀번호를 성공적으로 변경하였습니다.",onConfirm:()=>{i("passwordChanged"),r(),o(""),x("")}})}),b.passwordFailed&&(0,t.jsx)(A.Z,{isOpen:b.passwordFailed,children:(0,t.jsx)(C.Z,{variant:"red",label:"비밀번호 변경에 실패했습니다. 다시 시도해주세요.",onConfirm:()=>i("passwordFailed")})}),(0,t.jsxs)("div",{className:"relative w-333 h-366 rounded-10 bg-gray-grayscale5 flex flex-col items-start pt-20 pl-16",children:[(0,t.jsx)(h,{isActive:a}),s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-15",children:[(0,t.jsx)("span",{className:"caption-1 text-gray-grayscale40",children:"새 비밀번호"}),(0,t.jsx)("button",{onClick:()=>{r(),o(""),x("")},className:"w-68 h-30 rounded-10 bg-red-red10 text-white caption-1 flex items-center justify-center",children:"취소"})]}),(0,t.jsx)(v,{placeholder:"비밀번호",isDisabled:!1,input:c,setInput:o,isActive:!0}),(0,t.jsx)("div",{className:"mb-12"}),(0,t.jsx)(v,{placeholder:"비밀번호 확인",isDisabled:!1,input:m,setInput:x,isActive:!0})]}),(0,t.jsx)("p",{className:"caption-2 text-gray-grayscale-50 w-273",children:w.zh.password.defaultLabel}),u&&(0,t.jsx)("p",{className:"text-red-red20 caption-2 text-center",children:u}),(0,t.jsx)("button",{onClick:()=>l("passwordConfirm"),disabled:!(c&&m&&!u),className:"mt-auto mb-20 transition-all duration-300 ease-in-out w-293 h-50 rounded-10 flex items-center justify-center H4 text-white ".concat(c&&m&&!u?"bg-blue-blue30 cursor-pointer":"bg-blue-blue20 cursor-not-allowed"),children:"비밀번호 변경"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsx)("p",{className:"mb-15 caption-1 text-gray-grayscale40",children:"비밀번호"}),(0,t.jsx)(v,{placeholder:"••••••••••",isDisabled:!0,input:"••••••••••",setInput:()=>{},isActive:a})]}),(0,t.jsx)("p",{className:"caption-2 text-gray-grayscale30 w-273",children:w.zh.password.defaultLabel}),(0,t.jsx)("button",{disabled:!a,onClick:n,className:"w-293 mt-auto mb-20  h-50 rounded-10 bg-gray-grayscale10 border-1 border-bg-gray-grayscale20 flex items-center justify-center H4 text-gray-grayscale40",children:"비밀번호 변경"})]})]})]})},U=s(22992),z=s(9088),R=s(26066),Z=e=>{let{variant:a,label:s,onClose:r,secure:n,setSecure:l,activatePasswordEdit:i}=e,[c,d]=(0,g.useState)(null),A=async()=>{try{let e=await o(n);if(e.check&&e.information.checked)l(""),i&&i(),r();else throw Error("보안코드가 일치하지 않습니다.")}catch(e){console.error("보안코드 검증 실패:",e),d("보안코드 검증에 실패했습니다.")}};return(0,t.jsxs)("div",{className:"w-456 h-239 flex flex-col items-center rounded-8 shadow-xl bg-white pb-15",children:[(0,t.jsx)(R.Z,{bgColor:"bg-red-red20",onCancel:r}),(0,t.jsx)(m.default,{src:U.Z,className:"mt-19 mb-16",width:22,height:19,alt:"PromptWarning"}),(0,t.jsx)("h1",{className:"alert-cap text-gray-grayscale50 text-center mb-12",children:s.split("\\n").map((e,a)=>(0,t.jsx)("p",{className:"leading-25",children:e},a))}),(0,t.jsx)("input",{className:"w-235 border-[0.5px] outline-none px-8 rounded-8 text-gray-grayscale50 placeholder:text-gray-grayscale30 border-".concat(n?"gray-grayscale50":"gray-grayscale30"," H4-caption"),placeholder:"보안 코드를 입력하세요",type:"password",value:n,onChange:e=>l(e.target.value)}),c&&(0,t.jsx)("p",{className:"text-red-red20 caption-2 text-center mt-5",children:c}),(0,t.jsxs)("div",{className:"ml-auto mt-auto",children:[(0,t.jsx)(z.Z,{label:"취소",onClick:r,hoverColor:a}),(0,t.jsx)(z.Z,{label:"확인",onClick:A,hoverColor:a})]})]})},H=()=>{let[e,a]=(0,g.useState)(""),[s,r]=(0,L.FV)(E.H),[n,l]=(0,L.FV)(E.B),{data:c,error:o,isLoading:d}=i(),m=()=>{r(e=>({...e,passwordBox:!e.passwordBox,namebox:!!e.passwordBox&&e.namebox}))},x=e=>{l(a=>({...a,[e]:!0}))},h=e=>{l(a=>({...a,[e]:!1}))},p=!s.namebox&&!s.passwordBox;return(0,t.jsxs)(t.Fragment,{children:[n.passwordSecure&&(0,t.jsx)(A.Z,{isOpen:n.passwordSecure,children:(0,t.jsx)(Z,{variant:"red",label:"비밀번호 변경을 위해 보안코드를 입력해주세요",onClose:()=>{h("passwordSecure"),a("")},secure:e,setSecure:a,activatePasswordEdit:m})}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)("h1",{className:"H0 text-gray-grayscale50 mb-41",children:"계정 관리"}),(0,t.jsxs)("div",{className:"w-[1079px] transition-all duration-500 ease-in-out h-594 shadow3 rounded-20 flex items-center justify-center gap-20 ".concat(p?"bg-white":"bg-[rgba(0,0,0,0.25)]"),children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-20",children:[(0,t.jsx)(b,{dormInfo:(null==c?void 0:c.information.schoolName)||"관리자 학교 이름",isActive:p}),(0,t.jsxs)("div",{className:"flex gap-20",children:[(0,t.jsx)(f,{id:(null==c?void 0:c.information.loginId)||"관리자 아이디",name:(null==c?void 0:c.information.adminName)||"관리자 이름",isActive:!s.passwordBox,isEditMode:s.namebox,setIsEditMode:()=>{r(e=>({...e,namebox:!e.namebox,passwordBox:!!e.namebox&&e.passwordBox}))}}),(0,t.jsx)(S,{isActive:!s.namebox,isEditMode:s.passwordBox,setIsEditMode:m,setSecureMode:()=>x("passwordSecure"),openModal:x,closeModal:h})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-20 items-center justify-center",children:[(0,t.jsx)(u,{address:"(17058) 경기도 용인시 처인구 명지로 1116 명지대학교 학생복지관 2층 ",tel:"031-000-000",fax:"031-000-000",isActive:p}),(0,t.jsx)("button",{disabled:p,className:"w-333 h-57 rounded-10 bg-red-red10 text-white btn-cap flex items-center justify-center",children:"종료"})]})]})]})]})}},79467:function(e,a,s){"use strict";s.d(a,{YG:function(){return i},m7:function(){return n},qo:function(){return t},wA:function(){return l},zh:function(){return r}});let t={title:{maxLength:50},description:{maxLength:2e3},fileName:{maxLength:12},file:{maxCount:5}},r={password:{maxLength:20,minLength:6,defaultLabel:"영문 대문자와 소문자, 숫자, 특수문자 중 2가지 이상을 조합하여 6~20자로 입력해주세요.",messages:{invalid:"비밀번호가 기준에 맞지 않습니다.",mismatch:"비밀번호가 서로 일치하지 않습니다."}},name:{defaultLabel:"*관리자명은 공지사항과 FAQ 작성 시 표시됩니다.",maxLength:8}},n={title:{maxLength:30},description:{maxLength:200}},l={name:{maxLength:10},memo:{maxLength:200}},i={pledgeWriting:{maxLength:5e3}}},66111:function(e,a,s){"use strict";s.d(a,{B:function(){return n},H:function(){return r}});var t=s(32153);let r=(0,t.cn)({key:"accountsActiveAreaState",default:{namebox:!1,passwordBox:!1}}),n=(0,t.cn)({key:"accountsModalState",default:{passwordSecure:!1,passwordConfirm:!1,passwordChanged:!1,passwordFailed:!1,exit:!1}})},54363:function(e,a){"use strict";a.Z={src:"/_next/static/media/Edit.5b04429a.png",height:24,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAElBMVEUla7ovar8uaL0vab4uab0sarf7D2RQAAAABnRSTlMBPUxfLRKZ+g2sAAAACXBIWXMAAAsTAAALEwEAmpwYAAAALElEQVR4nCWKuREAMAyD9O6/ck4ODRQAIz3B1pVMZxbsb2mfQG4g5SZAefQBDH8AYooJR40AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},49191:function(e,a){"use strict";a.Z={src:"/_next/static/media/HeaderLogo.13e79d76.png",height:46,width:125,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAElBMVEU1eNg1eNc1eNc2edk1dtY3edgzoBzXAAAABnRSTlNqnXuwSy5YZIqAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAHUlEQVR4nAXBAQEAAAzCoE19/8oHkukKSosBdwQeAm0AKfn26roAAAAASUVORK5CYII=",blurWidth:8,blurHeight:3}}},function(e){e.O(0,[691,4898,703,1252,5418,2971,8069,1744],function(){return e(e.s=47080)}),_N_E=e.O()}]);