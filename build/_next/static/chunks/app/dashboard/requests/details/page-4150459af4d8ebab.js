(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1264],{20414:function(e,t,r){Promise.resolve().then(r.bind(r,92684))},20703:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(67447),a=r.n(n)},47907:function(e,t,r){"use strict";var n=r(15313);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},67447:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getImageProps:function(){return o},default:function(){return i}});let n=r(86921),a=r(38630),s=r(81749),l=n._(r(10536)),o=e=>{let{props:t}=(0,a.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}},i=s.Image},46426:function(e,t){"use strict";t.J=void 0,t.J=(e={})=>{if("undefined"==typeof window)return{persistAtom:()=>{}};let{key:t="recoil-persist",storage:r=localStorage,converter:n=JSON}=e,a=(e,t,r,n)=>{n?delete t[r]:t[r]=e,o(t)},s=()=>{let e=r.getItem(t);return null==e?{}:"string"==typeof e?l(e):"function"==typeof e.then?e.then(l):{}},l=e=>{if(void 0===e)return{};try{return n.parse(e)}catch(e){return console.error(e),{}}},o=e=>{try{"function"==typeof r.mergeItem?r.mergeItem(t,n.stringify(e)):r.setItem(t,n.stringify(e))}catch(e){console.error(e)}};return{persistAtom:({onSet:e,node:t,trigger:r,setSelf:n})=>{if("get"===r){let e=s();"function"==typeof e.then&&e.then(e=>{e.hasOwnProperty(t.key)&&n(e[t.key])}),e.hasOwnProperty(t.key)&&n(e[t.key])}e(async(e,r,n)=>{let l=s();"function"==typeof l.then?l.then(r=>a(e,r,t.key,n)):a(e,l,t.key,n)})}}}},74929:function(e,t,r){"use strict";r.d(t,{GH:function(){return c},Jl:function(){return u},fg:function(){return o},ju:function(){return i}});var n=r(58640),a=r(75518),s=r(81252),l=r(94817);let o=()=>{var e,t,r;let{data:s,error:o,size:i,setSize:c}=(0,l.ZP)((e,t)=>t&&0===t.information.dataList.length?null:"".concat(n._,"/api/v1/web/requestments?page=").concat(e+1),a.Z),u=s?s.reduce((e,t)=>e.concat(t.information.dataList),[]):[],d=!s&&!o||i>0&&s&&void 0===s[i-1];return{requestData:u,error:o,isLoadingMore:d,size:i,setSize:c,isReachingEnd:(null==s?void 0:null===(e=s[0])||void 0===e?void 0:e.information.dataList.length)===0||s&&(null===(t=s[s.length-1])||void 0===t?void 0:t.information.pageInfo.currentPage)===(null===(r=s[s.length-1])||void 0===r?void 0:r.information.pageInfo.totalPage)||!1}},i=e=>{let{data:t,error:r}=(0,s.ZP)("".concat(n._,"/api/v1/web/requestments/").concat(e),a.Z);return{data:t,error:r,isLoading:!r&&!t}},c=async(e,t)=>await (0,a.Z)("".concat(n._,"/api/v1/web/requestments/").concat(e),{method:"PUT",body:JSON.stringify({progression:t}),headers:{"Content-Type":"application/json"}}),u=async e=>await (0,a.Z)("".concat(n._,"/api/v1/web/requestments/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})},92684:function(e,t,r){"use strict";r.r(t);var n=r(57437),a=r(74929),s=r(48871),l=r(58626),o=r(79517),i=r(60852),c=r(91723),u=r(91355),d=r(48205),g=r(47907),h=r(2265),b=r(32153);t.default=()=>{let e=(0,g.useRouter)(),t=(0,b.sJ)(d.H),{data:r,error:f,isLoading:A}=(0,a.ju)(t),[m,y]=(0,h.useState)({requestmentId:0,myRequestment:!1,title:"",content:"",writer:"",createdDate:"",consentDuringAbsence:!1,visibility:!1,progression:"IN_REVIEW"}),x=(0,b.Zl)(u.jd),[p,v]=(0,h.useState)(!1),[w,j]=(0,h.useState)(!1);(0,h.useEffect)(()=>{x(!0)},[x]),(0,h.useEffect)(()=>{r&&r.information&&y(r.information)},[r]);let N=async()=>{try{await (0,a.GH)(t,m.progression),v(!p),x(!1),e.push("/dashboard/requests")}catch(e){console.error(e)}},E=async()=>{try{await (0,a.Jl)(t),j(!w),x(!1),e.push("/dashboard/requests")}catch(e){console.error(e)}};return(0,n.jsxs)(n.Fragment,{children:[m&&(0,n.jsxs)("div",{className:"flex flex-col w-[1200px]",children:[(0,n.jsx)("h1",{className:"text-left H0 text-gray-grayscale50 text-nowrap w-[1200px]",children:"요청사항"}),(0,n.jsx)("hr",{className:"text-gray-grayscale50 mt-25"}),(0,n.jsx)("h4",{className:"pl-12 pt-21 pb-17 H4 text-gray-grayscale50",children:m.title}),(0,n.jsx)("hr",{className:"text-gray-grayscale30"}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center text-gray-grayscale50",children:[(0,n.jsx)("h5",{className:"pl-12 pr-39 pt-13 pb-13 H4",children:"작성자"}),(0,n.jsx)("h5",{className:"H4-caption",children:m.writer})]}),(0,n.jsxs)("div",{className:"flex items-center caption2 text-gray-grayscale40",children:[(0,n.jsx)("h6",{className:"pr-19",children:"작성일"}),(0,n.jsx)("h6",{children:(0,i.r)(m.createdDate)})]})]}),(0,n.jsx)("hr",{className:"text-gray-grayscale30 mb-23"}),(0,n.jsx)("div",{className:"w-full h-450 overflow-auto scrollbar-table border border-gray-grayscale30 rounded-8 px-17 py-16",children:m.content}),(0,n.jsx)("hr",{className:"text-gray-grayscale30 my-23"}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("h4",{className:"H4 text-gray-grayscale50 pl-12 mr-32",children:"부재 시 방문동의 여부"}),(0,n.jsx)("h3",{className:"H3 w-155 ".concat(m.consentDuringAbsence?"text-blue-blue30":"text-red-red20"),children:m.consentDuringAbsence?"동의":"비동의"}),(0,n.jsx)("h4",{className:"H4 text-gray-grayscale50 mr-32",children:"공개 여부"}),(0,n.jsx)("h3",{className:"H3 ".concat(m.visibility?"text-blue-blue30":"text-red-red20"),children:m.visibility?"동의":"비동의"})]}),(0,n.jsxs)("div",{className:"flex justify-center gap-181 mt-24 mb-45",children:[(0,n.jsx)(l.Z,{isOn:"IN_REVIEW"===m.progression,setIsOn:()=>y(e=>({...e,progression:"IN_REVIEW"})),label:"검토중"}),(0,n.jsx)(l.Z,{isOn:"IN_PROGRESS"===m.progression,setIsOn:()=>y(e=>({...e,progression:"IN_PROGRESS"})),label:"진행중"}),(0,n.jsx)(l.Z,{isOn:"ANSWER_COMPLETED"===m.progression,setIsOn:()=>y(e=>({...e,progression:"ANSWER_COMPLETED"})),label:"완료됨"})]}),(0,n.jsxs)("div",{className:"flex justify-center gap-24",children:[(0,n.jsx)(s.Z,{label:"등록",disabled:(null==r?void 0:r.information.progression)===m.progression,variant:"blue",onClick:()=>{v(!p),x(!1)}}),(0,n.jsx)(s.Z,{label:"삭제",disabled:!1,variant:"red",onClick:()=>j(!w)})]})]}),p&&(0,n.jsx)(o.Z,{isOpen:p,children:(0,n.jsx)(c.Z,{variant:"blue",label:"진행사항을 변경하시겠습니까?",onCancel:()=>{v(!p)},onConfirm:N})}),w&&(0,n.jsx)(o.Z,{isOpen:w,children:(0,n.jsx)(c.Z,{variant:"red",label:"이 글을 삭제하시겠습니까?\\n삭제된 후에는 복구할 수 없습니다.",onCancel:()=>{j(!w)},onConfirm:E})})]})}},9088:function(e,t,r){"use strict";var n=r(57437);t.Z=e=>{let{label:t,onClick:r,hoverColor:a,isColor:s,disabled:l}=e,{btnHoverColor:o}=(e=>{switch(e){case"blue":default:return{btnHoverColor:"hover:bg-blue-blue30"};case"gray":return{btnHoverColor:"hover:bg-gray-grayscale20"};case"red":return{btnHoverColor:"hover:bg-red-red20"};case"green":return{btnHoverColor:"hover:bg-green-green20"}}})(a);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("button",{onClick:r,disabled:l,className:"mr-16 w-86 h-32 rounded-20 ".concat(o," hover-transition ").concat(s&&"bg-blue-blue30"),children:"gray"===a?(0,n.jsx)("h1",{className:"H4 text-gray-grayscale40",children:t}):(0,n.jsx)("h1",{className:"H4 text-gray-grayscale40 hover:text-white ".concat(s&&"text-white"),children:t})})})}},48871:function(e,t,r){"use strict";var n=r(57437);r(2265),t.Z=e=>{let{label:t,disabled:r,variant:a,selected:s=!1,...l}=e;return(0,n.jsx)("button",{...l,disabled:r,className:"w-133 h-42 rounded-8 hover:hover-transition ".concat((()=>{switch(a){case"blue":return"Btn-cap shadow2 text-white ".concat(s?"bg-blue-blue50":"bg-blue-blue30 disabled:bg-blue-blue20 hover:bg-blue-blue40 active:bg-blue-blue50");case"green":return"Btn-cap shadow2 text-white ".concat(s?"bg-green-green40":"bg-green-green20 disabled:bg-green-green10 hover:bg-green-green30 active:bg-green-green40");case"red":return"Btn-cap shadow2 text-white ".concat(s?"bg-red-red40":"bg-red-red20 disabled:bg-red-red10 hover:bg-red-red30 active:bg-red-red40");case"gray":return"H4 text-gray-grayscale50 ".concat(r?"disabled:text-gray-grayscale40 disabled:bg-transparent":s?"bg-gray-grayscale30":"bg-gray-grayscale10 hover:bg-gray-grayscale20 active:bg-gray-grayscale30");case"whiteblue":return"Btn-cap shadow2 ".concat(s?"bg-blue-blue30 border-blue-blue50 text-white":"text-blue-blue30 border-[1.5px] bg-white border-blue-blue30 disabled:text-blue-blue20 disabled:bg-white disabled:border-blue-blue20 hover:bg-blue-blue20 hover:border-blue-blue30 hover:text-blue-blue30 active:bg-blue-blue30 active:border-blue-blue50 active:text-white");case"white":return"".concat(r?"H4 disabled:text-gray-grayscale20 disabled:bg-transparent":s?"H4 text-gray-grayscale50 bg-gray-grayscale30":"H4 text-gray-grayscale40 hover:bg-gray-grayscale10 hover:text-gray-grayscale50 active:bg-gray-grayscale30");default:return""}})()),children:t})}},58626:function(e,t,r){"use strict";var n=r(57437);r(2265),t.Z=e=>{let{isOn:t,setIsOn:r,label:a}=e;return(0,n.jsxs)("div",{className:"flex items-center",onClick:()=>r(!t),children:[(0,n.jsx)("div",{className:"flex justify-center items-center w-21 h-21 rounded-full border-2 cursor-pointer ".concat(t?"border-gray-grayscale50":"border-gray-grayscale30"),children:(0,n.jsx)("div",{className:"".concat(t&&"bg-blue-blue30 w-11 h-11 rounded-full")})}),(0,n.jsx)("p",{className:"pl-8 H4 text-gray-grayscale50 cursor-pointer",children:a})]})}},26066:function(e,t,r){"use strict";var n=r(57437),a=r(20703),s=r(95343),l=r(42866);r(2265),t.Z=e=>{let{bgColor:t,onCancel:r}=e;return(0,n.jsxs)("div",{className:"".concat(t||"bg-blue-blue30"," w-full h-39  flex justify-between pl-15 rounded-t-8"),children:[(0,n.jsx)(a.default,{src:s.Z,alt:"PromptLogo",className:"object-contain",width:39,height:11.65}),(0,n.jsx)("button",{className:"hover:bg-red-red30 ".concat(t||"bg-blue-blue30"," w-39 h-39 flex items-center justify-center rounded-tr-8 hover-transition"),onClick:r,children:(0,n.jsx)(a.default,{src:l.Z,alt:"PromptOut",className:"object-contain",width:10,height:10})})]})}},79517:function(e,t,r){"use strict";var n=r(57437),a=r(2265),s=r(54887);t.Z=e=>{let{children:t,isOpen:r}=e;return(0,a.useEffect)(()=>(r?window.document.body.style.overflow="hidden":window.document.body.style.overflow="auto",()=>{window.document.body.style.overflow="auto"}),[r]),(0,s.createPortal)((0,n.jsx)("div",{className:"fixed z-backdrop top-0 left-0 w-full h-full bg-[#00000040] flex justify-center items-center",children:(0,n.jsx)("div",{className:"xl:scale-65 xxl:scale-80 lg:scale-65 md:scale-50 sm:scale-40",children:null!=t?t:null})}),document.body)}},60852:function(e,t,r){"use strict";r.d(t,{r:function(){return n}});let n=e=>(e.startsWith("20")?e.slice(2):e).replace(/-/g,".")},91723:function(e,t,r){"use strict";var n=r(57437),a=r(20703),s=r(22992),l=r(9088),o=r(26066);t.Z=e=>{let{variant:t,label:r,onConfirm:i,onCancel:c,textLeft:u,textRight:d}=e,{bgHeader:g}=(e=>{switch(e){case"blue":default:return{bgHeader:"bg-blue-blue30"};case"red":return{bgHeader:"bg-red-red20"};case"green":return{bgHeader:"bg-green-green20"}}})(t);return(0,n.jsxs)("div",{className:"w-456 h-194 flex flex-col items-center rounded-8 shadow-xl bg-white pb-15",children:[(0,n.jsx)(o.Z,{bgColor:g,onCancel:c}),(0,n.jsx)(a.default,{src:s.Z,className:"mt-19 mb-16",width:22,height:19,alt:"PromptWarning"}),(0,n.jsx)("h1",{className:"alert-cap text-gray-grayscale50 text-center",children:r.split("\\n").map((e,t)=>(0,n.jsx)("p",{className:"leading-25",children:e},t))}),(0,n.jsxs)("div",{className:"ml-auto mt-auto",children:[(0,n.jsx)(l.Z,{label:u||"취소",onClick:c,hoverColor:t}),(0,n.jsx)(l.Z,{label:d||"확인",onClick:i,hoverColor:t})]})]})}},58640:function(e,t,r){"use strict";r.d(t,{_:function(){return n}});let n="https://www.dormease-dev.kro.kr"},89652:function(e,t,r){"use strict";r.d(t,{L:function(){return n},z:function(){return a}});let n="ACCESS_TOKEN",a="REFRESH_TOKEN"},91355:function(e,t,r){"use strict";r.d(t,{ZZ:function(){return a},jd:function(){return s},oh:function(){return l}});var n=r(32153);let a=(0,n.cn)({key:"navState",default:!1}),s=(0,n.cn)({key:"editState",default:!1}),l=(0,n.cn)({key:"targetRouteState",default:""})},48205:function(e,t,r){"use strict";r.d(t,{H:function(){return o}});var n=r(46426),a=r(32153);let s=window.sessionStorage,{persistAtom:l}=(0,n.J)({key:"requestIdState",storage:s}),o=(0,a.cn)({key:"requestIdState",default:0,effects_UNSTABLE:[l]})},75518:function(e,t,r){"use strict";var n=r(77871),a=r(89652);let s=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.Z.getToken(a.L);if(!r)throw Error("No access token found");let s={...t.headers,Authorization:"Bearer ".concat(r)},l=await fetch(e,{...t,headers:s});if(!l.ok)throw 401===l.status&&(n.Z.removeToken(a.L),n.Z.removeToken(a.z),alert("세션이 만료되었습니다. 다시 로그인해 주세요.")),Error("Failed to fetch data");return 204===l.status||201===l.status?{}:l.json()};t.Z=s},77871:function(e,t){"use strict";t.Z={saveToken:(e,t)=>{localStorage.setItem(e,t)},getToken:e=>localStorage.getItem(e),removeToken:e=>{localStorage.removeItem(e)}}},95343:function(e,t){"use strict";t.Z={src:"/_next/static/media/PromptLogo.692c0d92.png",height:13,width:39,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAHlBMVEX///////////////////////////////////////8V2MxSAAAACnRSTlPlmoJy+43FvWlJljCSDAAAAAlwSFlzAAALEwAACxMBAJqcGAAAACFJREFUeJwFwYEBADAIwrDCxOn/D5vAhDw+2qanBFbF9gEEtABSm4AZFAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:3}},42866:function(e,t){"use strict";t.Z={src:"/_next/static/media/PromptOut.98b7927a.png",height:12,width:12,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAElBMVEX///////////////9MaXH///91ewZhAAAABnRSTlNA0QMxAHpSp+N/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKUlEQVR4nEWLsQ0AMAyDcEz/f7lT0w0J4OCMHAhKQNIGGZvU+bBq47dfE2gAiTtnxw0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},22992:function(e,t){"use strict";t.Z={src:"/_next/static/media/PromptWarning.99ab5e8b.png",height:21,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAHlBMVEXXNTXXNTVMaXHWNTXXNTXXNTWqVVXUODjYNzfWNTXpH04wAAAACnRSTlN9jQA8LFoDEkykCmOTUQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAC9JREFUeJwdwYkNADAMAjE4SJ/9F65UW4ANaDEzwxLbiTdCOSdCNQmuXBoqXX33ARTdAKE2+uYqAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:7}},25566:function(e){var t,r,n,a=e.exports={};function s(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(e){r=l}}();var i=[],c=!1,u=-1;function d(){c&&n&&(c=!1,n.length?i=n.concat(i):u=-1,i.length&&g())}function g(){if(!c){var e=o(d);c=!0;for(var t=i.length;t;){for(n=i,i=[];++u<t;)n&&n[u].run();u=-1,t=i.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function b(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];i.push(new h(e,t)),1!==i.length||c||o(g)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=b,a.addListener=b,a.once=b,a.off=b,a.removeListener=b,a.removeAllListeners=b,a.emit=b,a.prependListener=b,a.prependOnceListener=b,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},function(e){e.O(0,[691,1749,4898,1252,4817,2971,8069,1744],function(){return e(e.s=20414)}),_N_E=e.O()}]);