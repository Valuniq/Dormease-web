(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6929],{17188:function(e,t,i){Promise.resolve().then(i.bind(i,31616))},46426:function(e,t){"use strict";t.J=void 0,t.J=(e={})=>{if("undefined"==typeof window)return{persistAtom:()=>{}};let{key:t="recoil-persist",storage:i=localStorage,converter:a=JSON}=e,n=(e,t,i,a)=>{a?delete t[i]:t[i]=e,l(t)},r=()=>{let e=i.getItem(t);return null==e?{}:"string"==typeof e?s(e):"function"==typeof e.then?e.then(s):{}},s=e=>{if(void 0===e)return{};try{return a.parse(e)}catch(e){return console.error(e),{}}},l=e=>{try{"function"==typeof i.mergeItem?i.mergeItem(t,a.stringify(e)):i.setItem(t,a.stringify(e))}catch(e){console.error(e)}};return{persistAtom:({onSet:e,node:t,trigger:i,setSelf:a})=>{if("get"===i){let e=r();"function"==typeof e.then&&e.then(e=>{e.hasOwnProperty(t.key)&&a(e[t.key])}),e.hasOwnProperty(t.key)&&a(e[t.key])}e(async(e,i,a)=>{let s=r();"function"==typeof s.then?s.then(i=>n(e,i,t.key,a)):n(e,s,t.key,a)})}}}},94099:function(e,t,i){"use strict";i.d(t,{Fp:function(){return f},NE:function(){return d},V2:function(){return o},Zt:function(){return A},bq:function(){return c}});var a=i(58640),n=i(94817),r=i(69878),s=i(97124),l=i(81252);let o=()=>{var e,t,i;let{data:r,error:l,size:o,setSize:c,mutate:d}=(0,n.ZP)((e,t)=>t&&0===t.information.dataList.length?null:"".concat(a._,"/api/v1/web/notifications/ANNOUNCEMENT?page=").concat(e+1),s.Z),A=r?r.reduce((e,t)=>e.concat(t.information.dataList),[]):[],f=!r&&!l||o>0&&r&&void 0===r[o-1];return{notificationsData:A,error:l,isLoadingMore:f,size:o,setSize:c,isReachingEnd:(null==r?void 0:null===(e=r[0])||void 0===e?void 0:e.information.dataList.length)===0||r&&(null===(t=r[r.length-1])||void 0===t?void 0:t.information.pageInfo.currentPage)===(null===(i=r[r.length-1])||void 0===i?void 0:i.information.pageInfo.totalPage)||!1,mutate:d}},c=async e=>await (0,r.Z)("".concat(a._,"/api/v1/web/notifications"),{method:"POST",body:e}),d=e=>{let{data:t,error:i}=(0,l.ZP)(e?"".concat(a._,"/api/v1/web/notifications/notification/").concat(e):null,r.Z);return{data:t,error:i,isLoading:!i&&!t}},A=async e=>await (0,r.Z)("".concat(a._,"/api/v1/web/notifications/notification/").concat(e),{method:"DELETE"}),f=async e=>await (0,r.Z)("".concat(a._,"/api/v1/web/notifications"),{method:"PATCH",body:e})},31616:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return x}});var a=i(57437);i(2265);var n=i(20703),r=i(10129),s=i(48871);i(23886);var l=i(28771),o=i(76531),c=i(47907),d=i(17940),A=e=>{let{data:t,handleDelete:i}=e,A=(0,c.useRouter)(),{showConfirmDialog:f,ConfirmDialogComponent:m}=(0,l.Z)("공지사항을 삭제하시겠습니까?",i,"red");return(0,a.jsxs)(a.Fragment,{children:[!!m&&m,(0,a.jsxs)("div",{className:"w-[1200px] px-12",children:[(0,a.jsxs)("div",{className:" flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-end",children:[(0,a.jsx)("h1",{className:"H0 text-gray-grayscale50 mr-8",children:"공지사항"}),t.information.pinned&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-nowrap mr-4 H4 text-blue-blue20 mb-8",children:"최상단 고정"}),(0,a.jsx)(n.default,{src:r.Z,width:18,height:18,className:"mb-20 object-contain ",alt:"pin"})]})]}),(0,a.jsxs)("div",{className:"w-278 flex justify-between",children:[(0,a.jsx)(s.Z,{onClick:()=>A.push(d.Vr),label:"수정하기",disabled:!1,variant:"gray",className:"mr-12"}),(0,a.jsx)(s.Z,{onClick:f,label:"삭제",disabled:!1,variant:"red"})]})]}),(0,a.jsxs)("div",{className:"pt-21 pb-24 border-y-1 border-y-gray-grayscale50",children:[(0,a.jsx)("div",{className:"pb-21 pl-12 flex items-center",children:(0,a.jsxs)("h1",{className:"mr-40 text-nowrap H4 text-gray-grayscale50",children:[" ",t.information.title]})}),(0,a.jsxs)("div",{className:"pl-12 flex items-center justify-between py-13 border-y border-gray-grayscale30 border-opacity-30",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("h1",{className:"mr-40 text-nowrap H4 text-gray-grayscale50",children:"작성자"}),(0,a.jsx)("h1",{className:"text-nowrap H4 text-gray-grayscale40",children:t.information.writer})]}),(0,a.jsxs)("div",{className:"flex items-center cation2 text-gray-grayscale40",children:[(0,a.jsxs)("div",{className:"flex items-center mr-30 text-nowrap",children:[(0,a.jsx)("h1",{className:"mr-19 ",children:"작성일"}),(0,a.jsx)("h1",{children:t.information.createdDate})]}),(0,a.jsxs)("div",{className:"flex items-center text-nowrap",children:[(0,a.jsx)("h1",{className:"mr-19 ",children:"수정일"}),(0,a.jsx)("h1",{children:t.information.modifiedDate})]})]})]}),(0,a.jsx)("div",{className:"h-450 p-17 overflow-y-auto border-1 border-gray-grayscale30 border-opacity-30 rounded-8 my-23",children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:t.information.content},className:"editor-content"})}),(0,a.jsxs)("div",{className:"pl-12 flex items-center pt-23 border-t-1 border-y-gray-grayscale30 border-opacity-30",children:[(0,a.jsx)("h1",{className:"H4 text-gray-grayscale50 mr-20 text-nowrap",children:"첨부파일"}),t.information.fileList&&t.information.fileList.length>0?(0,a.jsx)(a.Fragment,{children:t.information.fileList.map((e,t)=>(0,a.jsxs)("ul",{className:"mr-10 flex align-center",children:[(0,a.jsx)("a",{target:"_blank",className:"mr-4 border-b border-gray-grayscale50",href:e.fileUrl,download:e.originalFileName,children:e.originalFileName}),(0,a.jsx)(n.default,{width:16,height:15,src:o.Z,className:"object-contain",alt:"FileClip"})]},t))}):(0,a.jsx)("h2",{className:"H4 text-gray-grayscale30",children:"첨부파일이 없습니다."})]})]})]})]})},f=i(68267),m=i(32153),h=i(94099),g=i(81252),u=i(58640),x=()=>{let e=(0,c.useRouter)(),t=(0,m.sJ)(f.H),{data:i,error:n,isLoading:r}=(0,h.NE)(t),{size:s}=(0,h.V2)(),l=async()=>{try{let i=await (0,h.Zt)(t),a=await i;if(i.ok||i.check){console.log("Notice deleted successfully"),console.log("Server response:",a);for(let e=0;e<s;e++){let t="".concat(u._,"/api/v1/web/notifications/ANNOUNCEMENT?page=").concat(e+1);await (0,g.JG)(t,void 0,{revalidate:!0})}e.push(d.N8)}else console.error("Notice 삭제 실패:",a)}catch(e){console.error("Notice 삭제 에러",e)}};return r?(0,a.jsx)("div",{children:"Loading..."}):n?(0,a.jsx)("div",{children:"Failed to load notice detail"}):i?(i.information.fileList.map(e=>({fileId:e.fileId,fileUrl:e.fileUrl,originalFileName:e.originalFileName})),(0,a.jsx)("div",{children:(0,a.jsx)(A,{data:i,handleDelete:l})})):(0,a.jsx)("div",{children:"No data available"})}},68267:function(e,t,i){"use strict";i.d(t,{H:function(){return r}});var a=i(32153);let{persistAtom:n}=(0,i(46426).J)(),r=(0,a.cn)({key:"noticeIdState",default:0,effects_UNSTABLE:[n]})},23886:function(){},76531:function(e,t){"use strict";t.Z={src:"/_next/static/media/FileClip.a171227f.png",height:18,width:18,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEUrKyswMDAwMDAwMDAyMjIwMDAwMDAwMDAxMTEwMDBNCNPFAAAACnRSTlMBo5NDEXUqYFCIsp99NAAAAAlwSFlzAAALEwAACxMBAJqcGAAAADNJREFUeJwdy7kNADAMw0DKv/dfOHCqAwsCEKYCKs1DP917zxlZkBqXFVjvnmS2/FY6vw8apgC/gJfvYAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},10129:function(e,t){"use strict";t.Z={src:"/_next/static/media/Union.0c44f68a.png",height:19,width:18,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEWhq+SpxvCuzPenxe+mw+6nxO6ryfKryfSpx/Koxu+pxe2ow+ylwuypxvC21v/PohBGAAAADnRSTlMB/P6iZ4Xsts9KIzjfxMvmxn8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAA4SURBVHicHcq3EcAwEMRA3Ds6zfdfroZEtAEAooLXaHs6U7LAP5msi2zJhi/wVm1gefa8q28ygR8gswD4L51vJwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[691,703,4898,1252,4817,7111,2971,8069,1744],function(){return e(e.s=17188)}),_N_E=e.O()}]);