(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9510],{71553:function(e,t,r){Promise.resolve().then(r.bind(r,90969))},47907:function(e,t,r){"use strict";var n=r(15313);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},46426:function(e,t){"use strict";t.J=void 0,t.J=(e={})=>{if("undefined"==typeof window)return{persistAtom:()=>{}};let{key:t="recoil-persist",storage:r=localStorage,converter:n=JSON}=e,a=(e,t,r,n)=>{n?delete t[r]:t[r]=e,s(t)},o=()=>{let e=r.getItem(t);return null==e?{}:"string"==typeof e?i(e):"function"==typeof e.then?e.then(i):{}},i=e=>{if(void 0===e)return{};try{return n.parse(e)}catch(e){return console.error(e),{}}},s=e=>{try{"function"==typeof r.mergeItem?r.mergeItem(t,n.stringify(e)):r.setItem(t,n.stringify(e))}catch(e){console.error(e)}};return{persistAtom:({onSet:e,node:t,trigger:r,setSelf:n})=>{if("get"===r){let e=o();"function"==typeof e.then&&e.then(e=>{e.hasOwnProperty(t.key)&&n(e[t.key])}),e.hasOwnProperty(t.key)&&n(e[t.key])}e(async(e,r,n)=>{let i=o();"function"==typeof i.then?i.then(r=>a(e,r,t.key,n)):a(e,i,t.key,n)})}}}},9266:function(e,t,r){"use strict";r.d(t,{_:function(){return s},z:function(){return i}});var n=r(58640),a=r(89652),o=r(77871);let i=async e=>{let{loginId:t,password:r}=e,i=await fetch("".concat(n._,"/api/v1/auth/sign-in"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({loginId:t,password:r})});if(!i.ok)throw Error("Failed");let s=await i.json();return o.Z.saveToken(a.L,s.information.accessToken),o.Z.saveToken(a.z,s.information.refreshToken),s},s=async e=>{try{let t=await fetch("".concat(n._,"/api/v1/auth/reissue?refreshToken=").concat(encodeURIComponent(e)),{method:"GET"});if(console.log("reissueToken 응답 상태:",t.status),!t.ok){let e=await t.json();throw console.error("reissueToken 에러 응답:",e),Error("Token reissue failed")}let r=await t.json();if(console.log("reissueToken 성공 응답:",r),r.check&&r.information&&r.information.accessToken)return o.Z.saveToken(a.L,r.information.accessToken),r.information.accessToken;return console.error("reissueToken 응답에 유효한 액세스 토큰이 없습니다:",r),null}catch(e){return console.error("reissueToken 함수 에러:",e),null}}},58378:function(e,t,r){"use strict";r.d(t,{LM:function(){return l},h9:function(){return s},lf:function(){return u}});var n=r(58640),a=r(75518),o=r(94817),i=r(81252);let s=()=>{var e,t,r;let{data:i,error:s,size:u,setSize:l,mutate:c}=(0,o.ZP)((e,t)=>t&&0===t.information.dataList.length?null:"".concat(n._,"/api/v1/web/exitRequestment/residents?page=").concat(e+1),a.Z),d=i?i.reduce((e,t)=>e.concat(t.information.dataList),[]):[],b=!i&&!s||u>0&&i&&void 0===i[u-1];return{resignationData:d,error:s,isLoadingMore:b,size:u,setSize:l,isReachingEnd:(null==i?void 0:null===(e=i[0])||void 0===e?void 0:e.information.dataList.length)===0||i&&(null===(t=i[i.length-1])||void 0===t?void 0:t.information.pageInfo.currentPage)===(null===(r=i[i.length-1])||void 0===r?void 0:r.information.pageInfo.totalPage)||!1,mutate:c}},u=e=>{let{data:t,error:r}=(0,i.ZP)("".concat(n._,"/api/v1/web/exitRequestment/").concat(e),a.Z);return{data:t,error:r,isLoading:!r&&!t}},l=async(e,t)=>await (0,a.Z)("".concat(n._,"/api/v1/web/exitRequestment/securityDeposit"),{method:"PATCH",body:JSON.stringify({securityDepositReturnStatus:e,exitRequestmentIdList:t}),headers:{"Content-Type":"application/json"}})},90969:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var n=r(57437),a=r(2265),o=r(48871),i=e=>{let{label:t,value:r}=e;return(0,n.jsxs)("div",{className:"flex justify-between w-full",children:[(0,n.jsx)("h3",{className:"H3 text-gray-grayscale40",children:t}),(0,n.jsx)("h4",{className:"H4 text-gray-grayscale50",children:r})]})},s=r(58378),u=r(60852),l=r(47907),c=r(32153),d=r(66939),b=()=>{let e=(0,l.useRouter)(),t=(0,c.sJ)(d.i),{data:r,error:b,isLoading:f}=(0,s.lf)(t),[g,h]=(0,a.useState)({exitRequestmentId:0,residentName:"",major:"",studentNumber:"",schoolYear:0,phoneNumber:"",dormitoryName:"",roomSize:0,securityDepositReturnStatus:"UNPAID",roomNumber:0,bedNumber:0,hasKey:!1,keyNumber:"",exitDate:"",bankName:"",accountNumber:""});return(0,a.useEffect)(()=>{r&&r.information&&h(r.information)},[r]),(0,n.jsxs)("div",{className:"flex flex-col text-center w-[1200px] gap-35",children:[(0,n.jsx)("h1",{className:"H0 text-gray-grayscale50 text-nowrap w-[1200px]",children:"퇴사확인서 확인"}),(0,n.jsxs)("div",{className:"flex border-t-1 border-t-gray-grayscale50",children:[(0,n.jsxs)("div",{className:"flex-1 flex flex-col gap-60 py-60 pl-103 pr-134",children:[(0,n.jsx)(i,{label:"이 름",value:g.residentName}),(0,n.jsx)(i,{label:"학 과",value:g.major?g.major:"-"}),(0,n.jsx)(i,{label:"학 번",value:g.studentNumber?g.studentNumber:"-"}),(0,n.jsx)(i,{label:"학 년",value:g.schoolYear?g.schoolYear+"학년":"-"}),(0,n.jsx)(i,{label:"휴대전화",value:g.phoneNumber?g.phoneNumber:"-"}),(0,n.jsx)(i,{label:"건 물",value:g.dormitoryName?g.dormitoryName:"-"}),(0,n.jsx)(i,{label:"보증금 환급 여부",value:"PAYMENT"===g.securityDepositReturnStatus?"지급":"UNALBE"===g.securityDepositReturnStatus?"지급 불가":"미지급"})]}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col gap-60 bg-gray-grayscale5 py-60 pl-119 pr-112",children:[(0,n.jsx)(i,{label:"호 실",value:g.roomNumber?g.roomNumber+"호":"-"}),(0,n.jsx)(i,{label:"침대번호",value:g.bedNumber?g.bedNumber+"번":"-"}),(0,n.jsx)(i,{label:"열쇠 수령 여부",value:g.hasKey?"O":"-"}),(0,n.jsx)(i,{label:"열쇠번호",value:g.keyNumber?g.keyNumber:"-"}),(0,n.jsx)(i,{label:"퇴실날짜",value:g.exitDate?(0,u.r)(g.exitDate):"-"}),(0,n.jsx)(i,{label:"은행명",value:g.bankName?g.bankName:"-"}),(0,n.jsx)(i,{label:"계좌번호",value:g.accountNumber?g.accountNumber:"-"})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(o.Z,{label:"확인",disabled:!1,variant:"blue",onClick:()=>e.push("/dashboard/joins/resigns")})})]})}},48871:function(e,t,r){"use strict";var n=r(57437);r(2265),t.Z=e=>{let{label:t,disabled:r,variant:a,selected:o=!1,long:i,...s}=e;return(0,n.jsx)("button",{...s,disabled:r,className:"min-w-133 h-42 rounded-8 hover:hover-transition ".concat((()=>{switch(a){case"blue":return"Btn-cap shadow2 text-white ".concat(o?"bg-blue-blue50":"bg-blue-blue30 disabled:bg-blue-blue20 hover:bg-blue-blue40 active:bg-blue-blue50");case"green":return"Btn-cap shadow2 text-white ".concat(o?"bg-green-green40":"bg-green-green20 disabled:bg-green-green10 hover:bg-green-green30 active:bg-green-green40");case"red":return"Btn-cap shadow2 text-white ".concat(o?"bg-red-red40":"bg-red-red20 disabled:bg-red-red10 hover:bg-red-red30 active:bg-red-red40");case"gray":return"H4 text-gray-grayscale50 ".concat(r?"disabled:text-gray-grayscale40 disabled:bg-transparent":o?"bg-gray-grayscale30":"bg-gray-grayscale10 hover:bg-gray-grayscale20 active:bg-gray-grayscale30");case"whiteblue":return"Btn-cap shadow2 ".concat(o?"bg-blue-blue30 border-blue-blue50 text-white":"text-blue-blue30 border-[1.5px] bg-white border-blue-blue30 disabled:text-blue-blue20 disabled:bg-white disabled:border-blue-blue20 hover:bg-blue-blue20 hover:border-blue-blue30 hover:text-blue-blue30 active:bg-blue-blue30 active:border-blue-blue50 active:text-white");case"white":return"".concat(r?"H4 disabled:text-gray-grayscale20 disabled:bg-transparent":o?"H4 text-gray-grayscale50 bg-gray-grayscale30":"H4 text-gray-grayscale40 hover:bg-gray-grayscale10 hover:text-gray-grayscale50 active:bg-gray-grayscale30");default:return""}})()," ").concat(i&&"min-w-full whitespace-nowrap px-10"),children:t})}},60852:function(e,t,r){"use strict";r.d(t,{r:function(){return n}});let n=e=>(e.startsWith("20")?e.slice(2):e).replace(/-/g,".")},58640:function(e,t,r){"use strict";r.d(t,{_:function(){return n}});let n="https://www.dormease-dev.kro.kr"},89652:function(e,t,r){"use strict";r.d(t,{L:function(){return n},z:function(){return a}});let n="ACCESS_TOKEN",a="REFRESH_TOKEN"},66939:function(e,t,r){"use strict";r.d(t,{i:function(){return s}});var n=r(46426),a=r(32153);let o=window.sessionStorage,{persistAtom:i}=(0,n.J)({key:"resignIdState",storage:o}),s=(0,a.cn)({key:"resignIdState",default:0,effects_UNSTABLE:[i]})},75518:function(e,t,r){"use strict";var n=r(77871),a=r(89652),o=r(9266);let i=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.Z.getToken(a.L),i=n.Z.getToken(a.z);if(!r)throw Error("No access token found");let u={...t.headers,Authorization:"Bearer ".concat(r)},l=await fetch(e,{...t,headers:u});if(401===l.status&&i){let r=await (0,o._)(i);if(r){n.Z.saveToken(a.L,r);let o={...u,Authorization:"Bearer ".concat(r)};l=await fetch(e,{...t,headers:o})}else s()}else 401===l.status&&s();if(!l.ok)throw Error("Failed to fetch data");return 204===l.status||201===l.status?{}:l.json()},s=()=>{n.Z.removeToken(a.L),n.Z.removeToken(a.z),alert("세션이 만료되었습니다. 다시 로그인해 주세요."),window.location.href="/"};t.Z=i},77871:function(e,t){"use strict";t.Z={saveToken:(e,t)=>{localStorage.setItem(e,t)},getToken:e=>localStorage.getItem(e),removeToken:e=>{localStorage.removeItem(e)}}},25566:function(e){var t,r,n,a=e.exports={};function o(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var u=[],l=!1,c=-1;function d(){l&&n&&(l=!1,n.length?u=n.concat(u):c=-1,u.length&&b())}function b(){if(!l){var e=s(d);l=!0;for(var t=u.length;t;){for(n=u,u=[];++c<t;)n&&n[c].run();c=-1,t=u.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||l||s(b)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},function(e){e.O(0,[691,4898,1252,4817,2971,8069,1744],function(){return e(e.s=71553)}),_N_E=e.O()}]);