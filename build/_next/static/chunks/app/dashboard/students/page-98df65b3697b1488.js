(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6767],{75299:function(e,t,s){"use strict";var r,n=s(52846);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}t.Z=function(e){return n.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r||(r=n.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:1.5,d:"M1 8h14M8 1v14"})))}},2386:function(e,t,s){Promise.resolve().then(s.bind(s,67478))},46426:function(e,t){"use strict";t.J=void 0,t.J=(e={})=>{if("undefined"==typeof window)return{persistAtom:()=>{}};let{key:t="recoil-persist",storage:s=localStorage,converter:r=JSON}=e,n=(e,t,s,r)=>{r?delete t[s]:t[s]=e,c(t)},a=()=>{let e=s.getItem(t);return null==e?{}:"string"==typeof e?l(e):"function"==typeof e.then?e.then(l):{}},l=e=>{if(void 0===e)return{};try{return r.parse(e)}catch(e){return console.error(e),{}}},c=e=>{try{"function"==typeof s.mergeItem?s.mergeItem(t,r.stringify(e)):s.setItem(t,r.stringify(e))}catch(e){console.error(e)}};return{persistAtom:({onSet:e,node:t,trigger:s,setSelf:r})=>{if("get"===s){let e=a();"function"==typeof e.then&&e.then(e=>{e.hasOwnProperty(t.key)&&r(e[t.key])}),e.hasOwnProperty(t.key)&&r(e[t.key])}e(async(e,s,r)=>{let l=a();"function"==typeof l.then?l.then(s=>n(e,s,t.key,r)):n(e,l,t.key,r)})}}}},67478:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return A}});var r=s(57437),n=s(2265),a=s(75299),l=e=>{let{label:t,disabled:s,variant:n,...l}=e;return(0,r.jsxs)("button",{...l,disabled:s,className:"H4 flex items-center w-130 h-31 rounded-8 text-white hover:hover-transition ".concat((()=>{switch(n){case"blue":return"bg-blue-blue30 disabled:bg-blue-blue20 hover:bg-blue-blue40 active:bg-blue-blue50";case"green":return"bg-green-green20 disabled:bg-green-green10 hover:bg-green-green30 active:bg-green-green40";case"red":return"bg-red-red20 disabled:bg-red-red10 hover:bg-red-red30 active:bg-red-red40";default:return""}})()),children:[(0,r.jsx)(a.Z,{className:"mr-13 ml-7"}),t]})},c=s(30785),i=s(11867),o=s(48274),d=s(5154),u=s(47907),h=s(32153),g=(0,n.forwardRef)((e,t)=>{let{index:s,list:n}=e,a=(0,u.useRouter)(),l=(0,h.Zl)(d.J);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",{ref:t,className:"table rounded-5 w-[1200px] H4-caption h-38 text-nowrap relative hover:bg-gray-grayscale10 active:bg-gray-grayscale20 align-middle cursor-pointer",onClick:()=>{l(n.residentId),a.push("/dashboard/students/details")},children:[(0,r.jsx)("td",{className:"w-[5%]",children:s+1}),(0,r.jsx)("td",{className:"w-[13%]",children:n.name}),(0,r.jsx)("td",{className:"w-[13%]",children:n.studentNumber}),(0,r.jsx)("td",{className:"w-[13%]",children:o.v[n.gender]}),(0,r.jsx)("td",{className:"w-[15%]",children:n.dormitoryName&&n.dormitoryName+(n.roomSize&&"(".concat(n.roomSize,"인실)"))}),(0,r.jsx)("td",{className:"w-[13%]",children:n.roomNumber&&n.roomNumber+"호"}),(0,r.jsx)("td",{className:"w-[10%]",children:n.bonusPoint}),(0,r.jsx)("td",{className:"w-[10%]",children:n.minusPoint}),(0,r.jsx)("td",{className:"w-[8%]",children:o.T[n.schoolStatus]})]}),(0,r.jsx)("tr",{className:"h-14"})]})}),x=s(73122),m=s(36824),y=s(25862),b=e=>{let{title:t,sortBy:s,setSortBy:n,isAscending:a,setIsAscending:l,sortKey:c}=e;return(0,r.jsxs)("div",{className:"inline-flex items-center rounded-8 px-15 cursor-pointer ".concat(s===c?"bg-blue-blue15":""),onClick:()=>{s===c?l(!a):(l(!0),n(c))},children:[(0,r.jsx)("h1",{className:"mr-4 select-none",children:t}),(0,r.jsx)(y.Z,{className:"".concat(s!==c||a?"":"rotate-180"),width:16,height:8,fillColor:s===c?"#3678D8":"#323232"})]})},f=e=>{let{list:t,isLoading:s,isEndReached:n,setSize:a,sortBy:l,setSortBy:c,isAscending:i,setIsAscending:o}=e,d=(0,m.Z)({isLoading:s,isEndReached:n,onIntersect:()=>a(e=>e+1)});return(0,r.jsxs)("table",{className:"text-nowrap text-center text-gray-grayscale50",children:[(0,r.jsxs)("thead",{className:"table w-[1200px]",children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"H4 w-[5%]",children:"번 호"}),(0,r.jsx)("th",{className:"H4 w-[13%]",children:"이 름"}),(0,r.jsx)("th",{className:"H4 w-[13%]",children:"학 번"}),(0,r.jsx)("th",{className:"H4 w-[13%]",children:(0,r.jsx)(b,{title:"성 별",sortBy:l,setSortBy:c,isAscending:i,setIsAscending:o,sortKey:"gender"})}),(0,r.jsx)("th",{className:"H4 w-[15%]",children:(0,r.jsx)(b,{title:"건 물",sortBy:l,setSortBy:c,isAscending:i,setIsAscending:o,sortKey:"dormitory"})}),(0,r.jsx)("th",{className:"H4 w-[13%]",children:"호 실"}),(0,r.jsx)("th",{className:"H4 w-[10%]",children:(0,r.jsx)(b,{title:"상 점",sortBy:l,setSortBy:c,isAscending:i,setIsAscending:o,sortKey:"bonusPoint"})}),(0,r.jsx)("th",{className:"H4 relative w-[10%]",children:(0,r.jsx)(b,{title:"벌 점",sortBy:l,setSortBy:c,isAscending:i,setIsAscending:o,sortKey:"minusPoint"})}),(0,r.jsx)("th",{className:"H4 w-[8%]",children:"학 적"})]}),(0,r.jsx)("tr",{className:"h-15 border-b-1"})]}),t&&t.length>0?(0,r.jsxs)("tbody",{className:"w-[1214px] block h-677 overflow-y-auto scrollbar-table",children:[(0,r.jsx)("tr",{className:"h-15"}),t.map((e,t)=>(0,r.jsx)(g,{index:t,list:e,ref:d},t))]}):s?(0,r.jsx)("tbody",{className:"h-677"}):(0,r.jsx)("tbody",{className:"h-677",children:(0,r.jsx)(x.Z,{colspan:9})})]})},j=s(91355),w=s(25648),A=()=>{let e=(0,u.useRouter)(),[t,s]=(0,n.useState)(""),[a,o]=(0,n.useState)(""),[d,g]=(0,n.useState)(!1),x=(0,h.Zl)(j.jd),[m,y]=(0,n.useState)(""),[b,A]=(0,n.useState)(!0),N=(0,w.yc)(m,b),v=(0,w.RS)(a,m,b),{studentData:p,isLoading:S,setSize:E,isEndReached:k}=d?v:N;return(0,n.useEffect)(()=>{""===t.trim()&&g(!1)},[t]),(0,r.jsxs)("div",{className:"flex flex-col w-[1225px]",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-32 w-[1225px]",children:[(0,r.jsx)("h1",{className:"H0 text-gray-grayscale50 text-nowrap",children:"사생관리"}),(0,r.jsxs)("div",{className:"flex gap-19",children:[(0,r.jsx)(i.Z,{input:t,setInput:s,placeholder:"이름 또는 학번",handleSearch:()=>{""===t.trim()?g(!1):t===a&&d||(o(t),g(!0))}}),(0,r.jsx)(c.Z,{label:"엑셀 업로드",disabled:!1}),(0,r.jsx)(c.Z,{label:"엑셀 다운로드",disabled:!1})]})]}),(0,r.jsx)(f,{list:p,isLoading:null!=S&&S,isEndReached:k,setSize:E,sortBy:m,setSortBy:y,isAscending:b,setIsAscending:A}),(0,r.jsx)("div",{className:"flex justify-end mt-13",children:(0,r.jsx)(l,{label:"사생 추가",disabled:!1,variant:"blue",onClick:()=>{x(!0),e.push("/dashboard/students/additions")}})})]})}},30785:function(e,t,s){"use strict";var r=s(57437);s(2265),t.Z=e=>{let{label:t,disabled:s,selected:n=!1,...a}=e;return(0,r.jsx)("button",{...a,disabled:s,className:"H4 w-133 h-42 rounded-8 + ".concat(n?"bg-gray-grayscale30":"text-gray-grayscale-40 bg-gray-grayscale5 disabled:text-gray-grayscale30 disabled:bg-gray-grayscale5 hover:bg-gray-grayscale10 hover:hover-transition active:bg-gray-grayscale30"),children:t})}},25862:function(e,t,s){"use strict";var r=s(57437);s(2265),t.Z=e=>{let{className:t,width:s,height:n,fillColor:a}=e;return(0,r.jsx)("svg",{className:t,width:s,height:n,viewBox:"0 0 16 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M7.29289 0.707107L1.70711 6.29289C1.07714 6.92286 1.52331 8 2.41421 8L13.5858 8C14.4767 8 14.9229 6.92286 14.2929 6.2929L8.70711 0.707108C8.31658 0.316584 7.68342 0.316583 7.29289 0.707107Z",fill:a})})}},11867:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(57437),n=s(20703),a={src:"/_next/static/media/SearchIcon.fd87d628.png",height:20,width:20,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEW7u7vMzMzNzc3Ozs7MzMzLy8vLy8vOzs6cMFoWAAAACHRSTlMBlqENf1hlKKFJ7xkAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAwSURBVHicJYpJCgBADMJi7fL/Hw8yOUiQwJQ0wAqIlQELitD3xTLbaTKrVuvyn7l6DrcAeLXaQ4sAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},l=e=>{let{input:t,setInput:s,placeholder:l,handleSearch:c}=e;return(0,r.jsxs)("div",{className:"".concat(t?"border-gray-grayscale50":"border-gray-grayscale30"," focus:border-gray-grayscale40 border-[1.5px] w-380 h-38 flex items-center rounded-5"),children:[(0,r.jsx)("input",{className:"outline-none H4-cation px-12 w-292 h-24  text-gray-grayscale50 placeholder:text-gray-grayscale30",placeholder:l,type:"text",value:t,onChange:e=>{s(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&c&&c()}}),(0,r.jsx)(n.default,{src:a,width:18,height:18,className:"ml-auto mr-9 object-contain",alt:"SearchIcon",onClick:()=>c&&c()})]})}},73122:function(e,t,s){"use strict";var r=s(57437);s(2265),t.Z=e=>{let{colspan:t}=e;return(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:t,className:"h-full",children:(0,r.jsx)("div",{className:"flex justify-center items-center",children:(0,r.jsx)("h1",{className:"H1 text-gray-grayscale30",children:"리스트가 비었습니다."})})})})}},48274:function(e,t,s){"use strict";s.d(t,{T:function(){return r},v:function(){return n}});let r={ENROLLMENT:"재학",LEAVE_OF_ABSENCE:"휴학",EXPULSION:"제적"},n={MALE:"남성",FEMALE:"여성"}},36824:function(e,t,s){"use strict";var r=s(2265);t.Z=e=>{let{isLoading:t,isEndReached:s,onIntersect:n}=e,a=(0,r.useRef)(null),l=(0,r.useCallback)(e=>{!t&&(a.current&&a.current.disconnect(),a.current=new IntersectionObserver(e=>{e[0].isIntersecting&&!s&&n()}),e&&a.current.observe(e))},[t,s,n]);return(0,r.useEffect)(()=>()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.disconnect()},[]),l}},5154:function(e,t,s){"use strict";s.d(t,{J:function(){return c}});var r=s(46426),n=s(32153);let a=window.sessionStorage,{persistAtom:l}=(0,r.J)({key:"studentIdState",storage:a}),c=(0,n.cn)({key:"studentIdState",default:0,effects_UNSTABLE:[l]})}},function(e){e.O(0,[691,4898,703,1252,4817,2022,2971,8069,1744],function(){return e(e.s=2386)}),_N_E=e.O()}]);